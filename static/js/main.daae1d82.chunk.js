(this["webpackJsonpinvoice-app"]=this["webpackJsonpinvoice-app"]||[]).push([[0],{156:function(e,t,a){},157:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(31),s=a.n(n),r=(a(156),a(74)),i=(a(157),a(75)),c=a(42),l=a(107),o=a(240),d=a(137),u=a(0),j=a.n(u),b=a(29),h=a.n(b),p=a(15),m=a(149),O=a(85),f=a(239),x=a(241),g=a(238),y=a(86),v=a(32),I=a(237),N=a(242),k=a(38),_=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),t[0]},T=function(e){var t=Object.keys(e),a=new RegExp("^code|^qty|^name|^price");return t.filter((function(e){return a.test(e)}))},w=function(e,t){var a=e.filter((function(e){return!0===e.discount}));return a.length>0?parseInt(a.reduce((function(e,a){return e+a.qty*a.price*t/100}),0)):0},A=a(4),U=O.a.Option,E=function(e){var t=e.editable,a=(e.record,e.children),n=e.dataIndex,s=e.rowIndex,r=e.title,i=e.state,c=e.dispatch,l=(e.formState,Object(m.a)(e,["editable","record","children","dataIndex","rowIndex","title","state","dispatch","formState"])),o=a;if(t){var d=Object(p.a)({},i.pagination),u=s+(d.current-1)*d.pageSize;o="qty"===n||"price"===n?Object(A.jsx)(f.a.Item,{name:"".concat(n).concat(u),rules:[{required:!0,message:"".concat(r," tidak boleh kosong")}],initialValue:i.data[u][n],preserve:!1,style:{marginBottom:0},children:Object(A.jsx)(k.a,Object(p.a)(Object(p.a)({},"price"===n?{format:_,allowNegative:!0}:{allowNegative:!1}),{},{value:i.data[u][n],displayType:"input",customInput:x.a,style:{width:"100%",textAlign:"end"},onValueChange:function(e){var t=e.value;c({type:"UPDATE_TABLE_INPUT_VALUE",payload:{val:parseInt(t),index:u,column:n}})}}))}):"discount"===n?Object(A.jsx)(f.a.Item,{name:"".concat(n).concat(u),valuePropName:"checked",initialValue:i.data[u][n],preserve:!1,style:{marginBottom:0},children:Object(A.jsx)(y.a,{disabled:0===i.buyerInfo.discount||isNaN(i.buyerInfo.discount),defaultChecked:i.data[u][n],style:{transform:"scale(1.5)"},onChange:function(e){return c({type:"UPDATE_TABLE_INPUT_VALUE",payload:{val:e.target.checked,index:u,column:n}})}})}):"unit"===n?Object(A.jsx)(f.a.Item,{name:"".concat(n).concat(u),initialValue:i.data[u][n],preserve:!1,style:{marginBottom:0},children:Object(A.jsxs)(O.a,{defaultValue:"buah",onChange:function(e){return c({type:"UPDATE_TABLE_INPUT_VALUE",payload:{val:e,index:u,column:n}})},children:[Object(A.jsx)(U,{value:"buah",children:"buah"}),Object(A.jsx)(U,{value:"set",children:"set"})]})}):Object(A.jsx)(f.a.Item,{name:"".concat(n).concat(u),rules:[{required:!0,message:"".concat(r," tidak boleh kosong")}],initialValue:i.data[u][n],preserve:!1,style:{marginBottom:0},children:Object(A.jsx)(x.a,{maxLength:60,onBlur:function(e){return c({type:"UPDATE_TABLE_INPUT_VALUE",payload:{val:e.target.value,index:u,column:n}})}})})}return Object(A.jsx)("td",Object(p.a)(Object(p.a)({},l),{},{children:o}))},D=function(e){var t={body:{cell:E}},a=[];"faktur"===e.formState?a=[{title:e.state.columns[0],dataIndex:"id",width:"5%"},{title:e.state.columns[1],dataIndex:"code",editable:!0,width:"15%"},{title:e.state.columns[2],dataIndex:"name",editable:!0,width:"20%"},{title:e.state.columns[3],dataIndex:"discount",editable:!0,width:"5%"},{title:e.state.columns[4],dataIndex:"qty",editable:!0,width:"8%",align:"right"},{title:e.state.columns[5],dataIndex:"unit",editable:!0,width:"10%"},{title:e.state.columns[6],dataIndex:"price",editable:!0,width:"13%"},{title:e.state.columns[7],dataIndex:"total",align:"right",width:"14%",render:function(t,a,n){var s=n+(e.state.pagination.current-1)*e.state.pagination.pageSize;return Object(A.jsx)(k.a,{format:_,displayType:"text",value:isNaN(e.state.data[s].qty)||isNaN(e.state.data[s].price)?0:e.state.data[s].qty*e.state.data[s].price})}},{title:"Hapus",dataIndex:"remove",render:function(t,a){return e.state.data.length>1?Object(A.jsx)(v.a,{type:"default",danger:!0,onClick:function(){return s(a.id)},children:"Hapus"}):null}}]:"surat"===e.formState&&(a=[{title:e.state.columns[0],dataIndex:"id",width:"5%"},{title:e.state.columns[1],dataIndex:"code",editable:!0,width:"15%"},{title:e.state.columns[2],dataIndex:"name",editable:!0,width:"50%"},{title:e.state.columns[3],dataIndex:"qty",editable:!0,width:"10%",align:"right"},{title:e.state.columns[4],dataIndex:"unit",editable:!0,width:"10%"},{title:"Hapus",dataIndex:"remove",render:function(t,a){return e.state.data.length>1?Object(A.jsx)(v.a,{type:"default",danger:!0,onClick:function(){return s(a.id)},children:"Hapus"}):null}}]);var n=a.map((function(t){return t.editable?Object(p.a)(Object(p.a)({},t),{},{onCell:function(a,n){return{record:a,rowIndex:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,state:e.state,dispatch:e.dispatch,formState:e.formState}}}):t})),s=function(t){e.dispatch({type:"REMOVE_ITEM",payload:t})},r=function(){return Math.ceil(e.state.data.length/e.state.pagination.pageSize)!==e.state.pagination.current&&"kwitansi"!==e.formState};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{span:"22",offset:"1",children:Object(A.jsx)(I.a,Object(p.a)({components:t,dataSource:e.state.data,columns:n,pagination:e.state.pagination,onChange:function(t){return function(t){var a=T(e.form.getFieldsValue());e.form.validateFields(a).then((function(a){e.dispatch({type:"CHANGE_PAGE",payload:t.current})})).catch((function(e){console.log("form values are missing")}))}(t)},rowKey:"count"},"faktur"===e.formState&&{footer:function(){return Object(A.jsxs)("div",{style:{fontWeight:"bold"},children:[Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{offset:"15",span:"3",children:"Subtotal"}),Object(A.jsx)(c.a,{span:"3",offset:"3",style:{textAlign:"end"},children:Object(A.jsx)(k.a,{displayType:"text",format:_,value:isNaN(e.state.buyerInfo.subtotal)?0:e.state.buyerInfo.subtotal})})]}),Object(A.jsxs)(i.a,{align:"middle",children:[Object(A.jsx)(c.a,{offset:"15",span:"3",children:"Discount"}),Object(A.jsx)(c.a,{span:"2",children:Object(A.jsx)(f.a.Item,{name:"discount",rules:[{required:!0,message:"Discount tidak boleh kosong"}],initialValue:e.state.buyerInfo.discount,style:{marginBottom:0,fontWeight:"normal"},children:Object(A.jsx)(k.a,{suffix:"%",customInput:x.a,displayType:"input",allowNegative:!1,value:e.state.buyerInfo.discount,style:{textAlign:"end"},onValueChange:function(t){var a=t.value;e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"discount",value:parseInt(a)}})}})})}),Object(A.jsx)(c.a,{span:"3",offset:"1",style:{textAlign:"end"},children:Object(A.jsx)(k.a,{displayType:"text",format:_,value:isNaN(e.state.buyerInfo.totalDiscount)?0:e.state.buyerInfo.totalDiscount})})]}),Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{offset:"15",span:"3",children:"Grand Total"}),Object(A.jsx)(c.a,{span:"3",offset:"3",style:{textAlign:"end"},children:Object(A.jsx)(k.a,{displayType:"text",format:_,value:isNaN(e.state.buyerInfo.totalDiscount)||isNaN(e.state.buyerInfo.subtotal)?0:e.state.buyerInfo.subtotal-e.state.buyerInfo.totalDiscount})})]})]})}}))})}),Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{offset:"1",span:"5",children:Object(A.jsx)(N.a,{title:"Yakin ingin hapus semua barang?",onConfirm:function(){e.dispatch({type:"REMOVE_ALL",payload:e.form}),e.form.setFieldsValue({code0:"",name0:"",discount0:!1,qty0:1,price0:0})},okText:"Yes",cancelText:"No",children:Object(A.jsx)(v.a,{type:"default",size:"large",htmlType:"button",danger:!0,children:"Hapus Semua Barang"})})}),Object(A.jsx)(c.a,{span:"5",children:Object(A.jsx)(c.a,{children:Object(A.jsx)(v.a,{type:"default",size:"large",htmlType:"button",hidden:r(),onClick:function(){var t=T(e.form.getFieldsValue()),a={id:e.state.data.length+1,count:e.state.data[e.state.data.length-1].count+1,code:"",name:"",discount:!1,qty:1,unit:"buah",price:0};e.state.data.length%e.state.pagination.pageSize===0?e.form.validateFields(t).then((function(t){e.dispatch({type:"ADD_ITEM",payload:a})})).catch((function(e){console.log("form values are missing")})):e.dispatch({type:"ADD_ITEM",payload:a})},children:"Tambah Barang Baru"})})}),Object(A.jsx)(c.a,{offset:"10",span:"3",children:Object(A.jsx)(f.a.Item,{style:{marginBottom:0},children:Object(A.jsx)(v.a,{type:"primary",size:"large",htmlType:"submit",hidden:r(),children:"Generate"})})})]})]})},S=function(e){var t=f.a.useForm(),a=Object(r.a)(t,1)[0];return Object(A.jsxs)(f.a,{form:a,layout:"vertical",onFinish:function(){console.log(a.getFieldsValue()),e.submitHandler()},scrollToFirstError:!0,children:[Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{span:"13",offset:"1",children:Object(A.jsx)(f.a.Item,{name:"companyName",rules:[{required:!0,message:"Nama perusahaan tidak boleh kosong"}],label:"Nama Perusahaan",initialValue:e.state.buyerInfo.name,children:Object(A.jsx)(x.a,{onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"name",value:t.target.value}})}})})}),Object(A.jsx)(c.a,{span:"8",offset:"1",children:Object(A.jsx)(f.a.Item,{name:"city",label:"Kota",rules:[{required:!0,message:"Kota tidak boleh kosong"}],initialValue:e.state.buyerInfo.city,children:Object(A.jsx)(x.a,{onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"city",value:t.target.value}})}})})})]}),Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{span:"22",offset:"1",children:Object(A.jsx)(f.a.Item,{name:"address",label:"Alamat Perusahaan",rules:[{required:!0,message:"Alamat perusahaan tidak boleh kosong"}],initialValue:e.state.buyerInfo.address,children:Object(A.jsx)(x.a,{maxLength:80,onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"address",value:t.target.value}})}})})})}),Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{span:"6",offset:"1",children:Object(A.jsx)(f.a.Item,{name:"date",label:"Tanggal",rules:[{required:!0,message:"Tanggal tidak boleh kosong"}],initialValue:h()(e.state.buyerInfo.date,"DD-MM-YYYY"),children:Object(A.jsx)(g.a,{format:"DD-MM-YYYY",onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"date",value:t.target.value}})}})})}),"faktur"===e.formState&&Object(A.jsx)(c.a,{span:"7",children:Object(A.jsx)(f.a.Item,{name:"due",label:"Jatuh Tempo",rules:[{required:!0,message:"Jatuh tempo tidak boleh kosong"}],initialValue:h()(e.state.buyerInfo.due,"DD-MM-YYYY"),children:Object(A.jsx)(g.a,{format:"DD-MM-YYYY",onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"due",value:t.target.value}})}})})}),Object(A.jsx)(c.a,{flex:"auto",pull:"1",children:Object(A.jsx)(f.a.Item,{name:"number",label:"faktur"===e.formState?"Nomor Faktur Jual":"Nomor Surat Jalan",rules:[{required:!0,message:"Nomor faktur jual tidak boleh kosong"}],initialValue:e.state.buyerInfo.number,children:Object(A.jsx)(x.a,{onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"number",value:t.target.value}})}})})})]}),Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{span:"22",offset:"1",children:Object(A.jsx)(f.a.Item,{label:"Keterangan",name:"note",initialValue:e.state.buyerInfo.note,children:Object(A.jsx)(x.a.TextArea,{maxLength:120,onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"note",value:t.target.value}})}})})})}),Object(A.jsx)(D,{dispatch:e.dispatch,state:e.state,form:a,formState:e.formState,isButtonHidden:e.isButtonHidden})]})},P=a(104),V=a(105),M=a(110),C=a(106),B=a.p+"static/media/logo_with_text.def95dbe.png",F=function(e){Object(M.a)(a,e);var t=Object(C.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(V.a)(a,[{key:"render",value:function(){var e=10;"surat"===this.props.formState&&(e=14);for(var t=this.props.state.data.length,a=Math.ceil(t/e),n=[],s=0;s<a;s++){var r=s*e,i=r+e,c=t%e;s===a-1&&0!==c&&(i=r+c),n.push(Object(A.jsxs)("div",{className:"invoice page-break",children:[Object(A.jsx)(L,Object(p.a)(Object(p.a)({},this.props.state.buyerInfo),{},{formState:this.props.formState,page:s+1,pageCount:a})),Object(A.jsx)(Y,Object(p.a)({},this.props.state.buyerInfo)),Object(A.jsx)(q,Object(p.a)(Object(p.a)({},this.props.state.buyerInfo),{},{formState:this.props.formState})),Object(A.jsx)(R,Object(p.a)(Object(p.a)({},this.props),{},{start:r,end:i})),Object(A.jsx)(z,Object(p.a)(Object(p.a)({},this.props.state),{},{formState:this.props.formState}))]},"page".concat(s+1)))}return Object(A.jsx)("div",{children:n})}}]),a}(j.a.PureComponent),L=function(e){return Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"column",children:Object(A.jsx)("img",{src:B,alt:"logo"})}),Object(A.jsxs)("h1",{id:"title",className:"column",children:["faktur"===e.formState&&"FAKTUR PENJUALAN","surat"===e.formState&&"SURAT JALAN"]}),Object(A.jsxs)("h3",{id:"pageNo",className:"column",children:["Page ",e.page," of ",e.pageCount]})]})},Y=function(e){return Object(A.jsxs)("div",{id:"buyerCompany",className:"column",children:[Object(A.jsx)("h3",{children:"Kepada Yth."}),Object(A.jsx)("h3",{children:e.name}),Object(A.jsx)("h3",{children:e.address}),Object(A.jsx)("h3",{children:e.city})]})},q=function(e){return Object(A.jsx)("div",{className:"column",children:Object(A.jsxs)("div",{className:"info",children:[Object(A.jsxs)("h3",{children:[Object(A.jsxs)("span",{children:["No. ",e.formState]}),": ",e.number]}),Object(A.jsxs)("h3",{children:[Object(A.jsx)("span",{children:"Tanggal dokumen"}),": ",e.date]}),"faktur"===e.formState&&Object(A.jsxs)("h3",{children:[Object(A.jsx)("span",{children:"Jatuh tempo (30 hari)"}),": ",e.due]})]})})},R=function(e){var t=e.start,a=e.end,n=e.state.data.slice(t,a);return Object(A.jsxs)("table",{id:"innerTable",children:["faktur"===e.formState?Object(A.jsxs)("colgroup",{children:[Object(A.jsx)("col",{span:"1",style:{width:"5%"}}),Object(A.jsx)("col",{span:"1",style:{width:"20%"}}),Object(A.jsx)("col",{span:"1",style:{width:"35%"}}),Object(A.jsx)("col",{span:"1",style:{width:"5%"}}),Object(A.jsx)("col",{span:"1",style:{width:"5%"}}),Object(A.jsx)("col",{span:"1",style:{width:"10%"}}),Object(A.jsx)("col",{span:"1",style:{width:"10%"}}),Object(A.jsx)("col",{span:"1",style:{width:"15%"}})]}):Object(A.jsxs)("colgroup",{children:[Object(A.jsx)("col",{span:"1",style:{width:"5%"}}),Object(A.jsx)("col",{span:"1",style:{width:"20%"}}),Object(A.jsx)("col",{span:"1",style:{width:"60%"}}),Object(A.jsx)("col",{span:"1",style:{width:"5%"}}),Object(A.jsx)("col",{span:"1",style:{width:"10%"}})]}),Object(A.jsx)("thead",{children:Object(A.jsx)("tr",{children:e.state.columns.map((function(e,t){return Object(A.jsx)("th",Object(p.a)(Object(p.a)({},("harga"===e.toLowerCase()||"total"===e.toLowerCase()||"qty"===e.toLowerCase())&&{className:"numeric"}),{},{children:e}),t)}))})}),Object(A.jsx)("tbody",{children:n.map((function(t,a){return Object(A.jsxs)("tr",{className:"items",children:[Object.keys(t).map((function(a,n){if("count"!==a&&("price"!==a&&"discount"!==a&&"surat"===e.formState||"faktur"===e.formState))return Object(A.jsx)("td",Object(p.a)(Object(p.a)({},("price"===a||"qty"===a)&&{className:"numeric"}),{},{children:"price"===a?Object(A.jsx)(k.a,{format:_,displayType:"text",value:isNaN(t[a])?0:t[a]}):"qty"===a&&isNaN(t[a])?0:"discount"===a?t.discount&&0!==e.state.buyerInfo.discount?"".concat(e.state.buyerInfo.discount,"%"):"-":t[a]}),n)})),"faktur"===e.formState&&Object(A.jsx)("td",{className:"numeric",children:Object(A.jsx)(k.a,{format:_,displayType:"text",value:isNaN(t.qty)||isNaN(t.price)?0:t.qty*t.price})})]},a)}))}),Object(A.jsxs)("tfoot",{children:["faktur"===e.formState&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("tr",{className:"numeric",id:"subtotal",children:[Object(A.jsx)("td",{colSpan:"7",children:"Subtotal"}),Object(A.jsx)("td",{children:_(e.state.buyerInfo.subtotal)})]}),Object(A.jsxs)("tr",{className:"numeric",id:"discount",children:[Object(A.jsx)("td",{colSpan:"7",children:"Discount (".concat(_(e.state.buyerInfo.discount),"%)")}),Object(A.jsx)("td",{children:_(e.state.buyerInfo.totalDiscount)})]}),Object(A.jsxs)("tr",{className:"numeric",id:"grandTotal",children:[Object(A.jsx)("td",{colSpan:"7",children:"Grand total"}),Object(A.jsx)("td",{children:_(parseInt(e.state.buyerInfo.subtotal)-parseInt(e.state.buyerInfo.totalDiscount))})]})]}),Object(A.jsx)("tr",{children:Object(A.jsx)("td",{colSpan:"faktur"===e.formState?8:5,children:Object(A.jsxs)("div",{id:"note",children:["Keterangan:\xa0",e.state.buyerInfo.note]})})})]})]})},z=function(e){return Object(A.jsxs)("footer",{children:[Object(A.jsx)(H,{person:"Penerima"}),Object(A.jsx)(H,{person:"faktur"===e.formState?"Penjual":"Hormat kami"}),Object(A.jsx)(H,{person:"Checklist"})]})},H=function(e){var t=e.person;return Object(A.jsxs)("div",{className:"sign",children:[Object(A.jsx)("h3",{children:t}),Object(A.jsx)("span",{children:"________________"})]})},J=a.p+"static/media/logo_with_text_rotated.0b99caeb.png",K=a(236),G=a(243),W=K.a.Header,Q=K.a.Sider,X=K.a.Content,Z=function(e){Object(M.a)(a,e);var t=Object(C.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(V.a)(a,[{key:"render",value:function(){return Object(A.jsxs)(K.a,{style:{backgroundColor:"transparent",height:"99%",fontSize:"1.2em"},children:[Object(A.jsx)(Q,{width:"15%",style:{backgroundColor:"transparent",border:"solid 4px black",borderStyle:"double"},children:Object(A.jsx)("div",{id:"logo",children:Object(A.jsx)("img",{src:J,alt:"logo"})})}),Object(A.jsxs)(K.a,{style:{backgroundColor:"transparent",border:"solid 1px black"},children:[Object(A.jsx)(W,{style:{backgroundColor:"transparent",border:"solid 1px black"},children:Object(A.jsx)("h1",{children:"Kwitansi"})}),Object(A.jsx)(X,{style:{backgroundColor:"transparent",border:"solid 1px black",height:"40%"},children:Object(A.jsxs)(G.b,{direction:"vertical",size:"small",style:{width:"100%"},children:[Object(A.jsxs)(i.a,{style:{marginTop:"1em"},children:[Object(A.jsx)(c.a,{span:"5",offset:"1",children:"No. kwitansi"}),Object(A.jsx)(c.a,{span:"1",children:":"}),Object(A.jsx)(c.a,{className:"field",span:"15",children:this.props.state.data.receiptNumber})]}),Object(A.jsxs)(i.a,{align:"bottom",children:[Object(A.jsx)(c.a,{span:"5",offset:"1",children:"Sudah terima dari"}),Object(A.jsx)(c.a,{span:"1",children:":"}),Object(A.jsx)(c.a,{className:"field",span:"15",children:this.props.state.data.name})]}),Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{span:"5",offset:"1",children:"Banyaknya uang"}),Object(A.jsx)(c.a,{span:"1",children:":"}),Object(A.jsx)(c.a,{className:"field",span:"15",children:Object(A.jsx)("div",{id:"textarea",children:this.props.state.data.amountWritten})})]}),Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{className:"field",offset:"7",span:"15",children:"\xa0"})}),Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{span:"5",offset:"1",children:"Untuk pembayaran"}),Object(A.jsx)(c.a,{span:"1",children:":"}),Object(A.jsx)(c.a,{className:"field",span:"15",children:Object(A.jsx)("div",{id:"textarea",children:this.props.state.data.matter})})]}),Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{className:"field",offset:"7",span:"15",children:"\xa0"})}),Object(A.jsxs)(G.b,{direction:"vertical",size:"large",style:{width:"100%"},children:[Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{className:"field",offset:"7",span:"15",children:"\xa0"})}),Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{className:"field",offset:"16",span:"5",style:{textAlign:"center"},children:this.props.state.data.date})})]}),Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{children:"\xa0"})}),Object(A.jsxs)(i.a,{className:"footer",children:[Object(A.jsx)(c.a,{offset:"1",span:"4",children:"Cek / Giro No."}),Object(A.jsx)(c.a,{className:"field",span:"6",children:this.props.state.data.giroNumber})]}),Object(A.jsxs)(i.a,{className:"footer",children:[Object(A.jsx)(c.a,{offset:"1",span:"4",children:"Jumlah"}),Object(A.jsxs)(c.a,{className:"field",span:"6",children:["Rp.\xa0",_(this.props.state.data.amount)]}),Object(A.jsx)(c.a,{className:"field",offset:"16",span:"5"})]})]})})]})]})}}]),a}(j.a.PureComponent),$=a(76),ee=function(e,t){switch(t.type){case"ADD_ITEM":var a=t.payload,n=Object($.a)(e.data).length,s=e.pagination.pageSize,r=Math.ceil((n+1)/s);return Object(p.a)(Object(p.a)({},e),{},{data:[].concat(Object($.a)(e.data),[a]),pagination:Object(p.a)(Object(p.a)({},e.pagination),{},{current:r})});case"REMOVE_ITEM":for(var i=t.payload,c=Object($.a)(e.data),l=Math.ceil(c.length/e.pagination.pageSize),o=c.filter((function(e){return e.id!==i})),d=i-1;d<o.length;d++)o[d].id=o[d].id-1;var u=e.pagination.current;return o.length%e.pagination.pageSize===0&&l===u&&(u-=1),Object(p.a)(Object(p.a)({},e),{},{data:o,pagination:Object(p.a)(Object(p.a)({},e.pagination),{},{current:u})});case"REMOVE_ALL":return Object(p.a)(Object(p.a)({},e),{},{data:[{id:1,count:1,code:"",name:"",discount:!1,qty:1,price:0}],buyerInfo:Object(p.a)(Object(p.a)({},e.buyerInfo),{},{subtotal:0,totalDiscount:0}),pagination:Object(p.a)(Object(p.a)({},e.pagination),{},{current:1})});case"UPDATE_FORM_INPUT_VALUE":var j=t.payload.value,b=t.payload.name,h=Object(p.a)({},e.buyerInfo);return h[b]=j,"discount"===b&&(h.totalDiscount=w(e.data,j),console.log(h.totalDiscount)),Object(p.a)(Object(p.a)({},e),{},{buyerInfo:Object(p.a)({},h)});case"UPDATE_TABLE_INPUT_VALUE":var m=t.payload.index,O=t.payload.val,f=t.payload.column,x=Object($.a)(e.data),g=Object(p.a)({},x[m]);g[f]=O,x[m]=g;var y=parseInt(x.reduce((function(e,t){return e+t.qty*t.price}),0)),v=w(x,e.buyerInfo.discount);return Object(p.a)(Object(p.a)({},e),{},{data:Object($.a)(x),buyerInfo:Object(p.a)(Object(p.a)({},e.buyerInfo),{},{subtotal:y,totalDiscount:v})});case"CHANGE_PAGE":var I=t.payload;return Object(p.a)(Object(p.a)({},e),{},{pagination:Object(p.a)(Object(p.a)({},e.pagination),{},{current:I})});case"CHANGE_FORM":var N="faktur"===t.payload?["No.","Kode Barang","Nama Barang","Disc.","Qty","Unit","Harga","Total"]:["No.","Kode Barang","Nama Barang","Qty","Unit"];return Object(p.a)(Object(p.a)({},e),{},{columns:N});default:throw new Error("No matching case found")}},te=function(e,t){switch(t.type){case"UPDATE_FORM_INPUT_VALUE":var a=t.payload.value,n=t.payload.name,s=Object(p.a)({},e.data);return s[n]=a,Object(p.a)(Object(p.a)({},e),{},{data:s});default:throw new Error("No matching case found")}},ae=function(){var e=Object(u.useContext)(ue).handleFinish;return Object(A.jsx)("div",{id:"kwitansi",children:Object(A.jsxs)(f.a,{layout:"vertical",scrollToFirstError:!0,onFinish:e,children:[Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{offset:"1",span:"13",children:Object(A.jsx)(ne,{})}),Object(A.jsx)(c.a,{offset:"1",span:"8",children:Object(A.jsx)(se,{})})]}),Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{offset:"1",span:"7",children:Object(A.jsx)(re,{})}),Object(A.jsx)(c.a,{flex:"auto",pull:"1",children:Object(A.jsx)(ie,{})})]}),Object(A.jsxs)(i.a,{children:[Object(A.jsx)(c.a,{offset:"1",span:"5",children:Object(A.jsx)(ce,{})}),Object(A.jsx)(c.a,{offset:"1",span:"16",children:Object(A.jsx)(le,{})})]}),Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{offset:"1",span:"22",children:Object(A.jsx)(oe,{})})}),Object(A.jsx)(i.a,{justify:"end",children:Object(A.jsx)(c.a,{pull:"1",children:Object(A.jsx)(de,{})})})]})})},ne=function(){var e=Object(u.useContext)(ue);return Object(A.jsx)(f.a.Item,{name:"name",label:"Nama Pembayar",rules:[{required:!0,message:"Nama pembayar tidak boleh kosong"}],initialValue:e.receiptState.data.name,children:Object(A.jsx)(x.a,{onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"name",value:t.target.value}})}})})},se=function(){var e=Object(u.useContext)(ue);return Object(A.jsx)(f.a.Item,{name:"receiptNumber",label:"Nomor Kwitansi",rules:[{required:!0,message:"Nomor kwitansi tidak boleh kosong"}],initialValue:e.receiptState.data.receiptNumber,children:Object(A.jsx)(x.a,{onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"receiptNumber",value:t.target.value}})}})})},re=function(){var e=Object(u.useContext)(ue);return Object(A.jsx)(f.a.Item,{name:"date",label:"Tanggal",rules:[{required:!0,message:"Tanggal tidak boleh kosong"}],initialValue:h()(e.receiptState.data.date,"DD-MM-YYYY"),children:Object(A.jsx)(g.a,{format:"DD-MM-YYYY",onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"date",value:t.target.value}})}})})},ie=function(){var e=Object(u.useContext)(ue);return Object(A.jsx)(f.a.Item,{name:"giroNumber",label:"Nomor cek / giro",rules:[{required:!0,message:"Nomor cek / giro tidak boleh kosong"}],initialValue:e.receiptState.data.giroNumber,children:Object(A.jsx)(x.a,{onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"giroNumber",value:t.target.value}})}})})},ce=function(){var e=Object(u.useContext)(ue);return Object(A.jsx)(f.a.Item,{name:"amount",label:"Jumlah Uang",rules:[{required:!0,message:"Jumlah uang tidak boleh kosong"}],initialValue:e.receiptState.data.amount,children:Object(A.jsx)(k.a,{format:_,displayType:"input",customInput:x.a,style:{width:"100%"},onValueChange:function(t){var a=t.value;e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{value:parseInt(a),name:"amount"}})}})})},le=function(){var e=Object(u.useContext)(ue);return Object(A.jsx)(f.a.Item,{name:"amountWritten",label:"Jumlah Uang (Terbilang)",rules:[{required:!0,message:"Jumlah uang (terbilang) tidak boleh kosong"}],initialValue:e.receiptState.data.amountWritten,children:Object(A.jsx)(x.a,{onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"amountWritten",value:t.target.value}})}})})},oe=function(){var e=Object(u.useContext)(ue);return Object(A.jsx)(f.a.Item,{name:"matter",label:"Untuk Kepentingan",rules:[{required:!0,message:"Kepentingan tidak boleh kosong"}],initialValue:e.receiptState.data.matter,children:Object(A.jsx)(x.a.TextArea,{maxLength:150,onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"matter",value:t.target.value}})}})})},de=function(){return Object(A.jsx)(f.a.Item,{style:{marginBottom:0},children:Object(A.jsx)(v.a,{type:"primary",size:"large",htmlType:"submit",children:"Generate"})})},ue=j.a.createContext(),je=function(){var e={data:[{id:1,count:1,code:"",name:"",discount:!1,qty:1,unit:"buah",price:0}],buyerInfo:{name:"",number:"",address:"",date:h()(new Date).format("DD-MM-YYYY"),due:h()(new Date).add(30,"days").format("DD-MM-YYYY"),city:"",note:"",discount:0,totalDiscount:0,subtotal:0},columns:["No.","Kode Barang","Nama Barang","Disc.","Qty","Unit","Harga","Total"],pagination:{current:1,pageSize:5}},t={data:{name:"",receiptNumber:"",date:h()(new Date).format("DD-MM-YYYY"),giroNumber:"",amount:"",amountWritten:"",matter:""}},a=Object(u.useState)("faktur"),n=Object(r.a)(a,2),s=n[0],j=n[1],b=Object(u.useReducer)(ee,e),p=Object(r.a)(b,2),m=p[0],O=p[1],f=Object(u.useReducer)(te,t),x=Object(r.a)(f,2),g=x[0],y=x[1],v=Object(u.useRef)(),I=Object(u.useRef)(),N=Object(d.useReactToPrint)("kwitansi"!==s?{content:function(){return v.current},pageStyle:'\n @media print {  \n   html *{\n      font-family: "Trebuchet MS";\n    }\n      @page { \n      size: 21cm 13.97cm;\n    } \n    .numeric{\n      text-align:right;\n    }\n    .page-break{\n      page-break-before: always;\n      page-break-after: always;\n      display: block;\n    }\n\n    #title{\n      text-align: center;\n    }\n\n    .invoice{\n      font-size: 0.7em;\n    }\n    \n    #pageNo{\n      padding-left: 10%;\n    }\n    #buyerCompany{\n      width: 66%;\n    }\n    .column{\n      display: inline-block;\n      width: 33%;\n      margin-bottom: 0.5em;\n    }\n    \n    .info {\n      display: table;\n    }\n    .info h3 {\n      display: table-row;\n    }\n    .info span{\n      display: table-cell;\n      padding-right: 2mm;\n      padding-top: 1.5mm;\n    }\n     table{\n        width: 100%;\n        height:21.5em;\n        font-size: 1.2em;\n        border-top: solid 1px black;\n      }\n      table tr{\n        height:1em;\n      }\n      table tr:last-child{\n        height:auto;\n        border-bottom: solid 1px black;\n      }\n      table td, table th{\n        border-left: solid 1px black;\n        border-right: solid 1px black;\n        padding-left: 1mm;\n        padding-right: 1mm;\n        vertical-align:text-top; \n      }\n      table, table th{\n        border-bottom: solid 1px black;\n      }\n      table, table th{\n        border: solid 1px black;\n      }\n      table #note td, table #subtotal td, table #discount td{\n        border-top: none;\n        border-bottom: none;\n      }\n       table #grandTotal td{\n         border-bottom: solid 1px black;\n         font-weight: bold;\n       }\n      table #note{\n        height: 1.5em;\n        overflow: hidden;\n      }\n\n      h3 {\n        line-height:1em;\n      }\n      footer {\n        display: flex;\n        position:fixed;\n        bottom: 0;\n        left: 25%;\n        text-align:center;\n      }\n      .sign:nth-child(2){\n        margin-left: 5em;\n      }\n      \n      .sign:last-child{\n        margin-left: 5em;\n      }\n      .sign h3{\n        padding-bottom: 3em;\n      }\n  }\n  '}:{content:function(){return I.current},pageStyle:'\n    @media print{\n      html *{\n        font-family: "Trebuchet MS";\n        font-size: 0.97em;\n      }\n      \n      @page { \n        size: 21.59cm 13.97cm;\n      }\n\n      h1 {\n        font-size: 2em;\n      }\n\n      #logo{\n        position: absolute;\n        bottom: 7%;\n        text-align: center; \n        left: 0;\n        right: 0;\n      }\n\n      .field {\n        border-bottom: solid 2px black;\n      }\n\n      #textarea{\n        position: absolute;\n        word-wrap: break-word;\n        line-height: 2.1em;\n        top: -1mm;\n      }\n\n      .footer{\n        font-size: 0.8em;\n      }\n    }\n'});return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{style:{overflow:"hidden",height:0},children:"kwitansi"!==s?Object(A.jsx)(F,{ref:v,state:m,formState:s}):Object(A.jsx)(Z,{ref:I,state:g})}),Object(A.jsxs)(i.a,{style:{marginTop:"1vw"},children:[Object(A.jsx)(c.a,{offset:"2",children:Object(A.jsxs)(l.a.Group,{defaultValue:"faktur",buttonStyle:"solid",onChange:function(e){var t=e.target.value;j(t),O({type:"CHANGE_FORM",payload:t})},children:[Object(A.jsx)(l.a.Button,{value:"faktur",children:"Faktur Penjualan"}),Object(A.jsx)(l.a.Button,{value:"surat",children:"Surat Jalan"}),Object(A.jsx)(l.a.Button,{value:"kwitansi",children:"Kwitansi"})]})}),Object(A.jsx)(c.a,{offset:"3",children:Object(A.jsxs)("h2",{children:["faktur"===s&&"Info Faktur","surat"===s&&"Info Surat Jalan","kwitansi"===s&&"Info Kwitansi"]})})]}),Object(A.jsx)(i.a,{children:Object(A.jsx)(c.a,{offset:"2",span:"20",children:Object(A.jsx)(o.a,{children:"kwitansi"!==s?Object(A.jsx)(S,{submitHandler:N,state:m,dispatch:O,formState:s}):Object(A.jsx)(ue.Provider,{value:{receiptState:g,receiptDispatch:y,handleFinish:N},children:Object(A.jsx)(ae,{})})})})})]})},be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,244)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};s.a.render(Object(A.jsx)(je,{}),document.getElementById("root")),be()}},[[234,1,2]]]);
//# sourceMappingURL=main.daae1d82.chunk.js.map