(this["webpackJsonpinvoice-app"]=this["webpackJsonpinvoice-app"]||[]).push([[0],{154:function(e,t,a){},155:function(e,t,a){},232:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a.n(n),s=(a(154),a(74)),i=(a(155),a(75)),c=a(42),l=a(106),o=a(238),d=a(135),u=a(0),j=a.n(u),b=a(29),p=a.n(b),h=a(15),m=a(147),O=a(237),f=a(239),x=a(236),g=a(85),y=a(32),v=a(235),I=a(240),N=a(38),k=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),t[0]},_=function(e){var t=Object.keys(e),a=new RegExp("^code|^qty|^name|^price");return t.filter((function(e){return a.test(e)}))},T=function(e,t){var a=e.filter((function(e){return!0===e.discount}));return a.length>0?parseInt(a.reduce((function(e,a){return e+a.qty*a.price*t/100}),0)):0},w=a(5),A=function(e){var t=e.editable,a=(e.record,e.children),n=e.dataIndex,r=e.rowIndex,s=e.title,i=e.state,c=e.dispatch,l=(e.formState,Object(m.a)(e,["editable","record","children","dataIndex","rowIndex","title","state","dispatch","formState"])),o=a;if(t){var d=Object(h.a)({},i.pagination),u=r+(d.current-1)*d.pageSize;o="qty"===n||"price"===n?Object(w.jsx)(O.a.Item,{name:"".concat(n).concat(u),rules:[{required:!0,message:"".concat(s," tidak boleh kosong")}],initialValue:i.data[u][n],preserve:!1,style:{marginBottom:0},children:Object(w.jsx)(N.a,Object(h.a)(Object(h.a)({},"price"===n?{format:k,allowNegative:!0}:{allowNegative:!1}),{},{value:i.data[u][n],displayType:"input",customInput:f.a,style:{width:"100%",textAlign:"end"},onValueChange:function(e){var t=e.value;c({type:"UPDATE_TABLE_INPUT_VALUE",payload:{val:parseInt(t),index:u,column:n}})}}))}):"discount"===n?Object(w.jsx)(O.a.Item,{name:"".concat(n).concat(u),valuePropName:"checked",initialValue:i.data[u][n],preserve:!1,style:{marginBottom:0},children:Object(w.jsx)(g.a,{disabled:0===i.buyerInfo.discount||isNaN(i.buyerInfo.discount),defaultChecked:i.data[u][n],style:{transform:"scale(1.5)"},onChange:function(e){return c({type:"UPDATE_TABLE_INPUT_VALUE",payload:{val:e.target.checked,index:u,column:n}})}})}):Object(w.jsx)(O.a.Item,{name:"".concat(n).concat(u),rules:[{required:!0,message:"".concat(s," tidak boleh kosong")}],initialValue:i.data[u][n],preserve:!1,style:{marginBottom:0},children:Object(w.jsx)(f.a,{maxLength:60,onBlur:function(e){return c({type:"UPDATE_TABLE_INPUT_VALUE",payload:{val:e.target.value,index:u,column:n}})}})})}return Object(w.jsx)("td",Object(h.a)(Object(h.a)({},l),{},{children:o}))},D=function(e){var t={body:{cell:A}},a=[];"faktur"===e.formState?a=[{title:e.state.columns[0],dataIndex:"id",width:"5%"},{title:e.state.columns[1],dataIndex:"code",editable:!0,width:"15%"},{title:e.state.columns[2],dataIndex:"name",editable:!0,width:"25%"},{title:e.state.columns[3],dataIndex:"discount",editable:!0,width:"5%"},{title:e.state.columns[4],dataIndex:"qty",editable:!0,width:"10%",align:"right"},{title:e.state.columns[5],dataIndex:"price",editable:!0,width:"15%",align:"right"},{title:e.state.columns[6],dataIndex:"total",align:"right",width:"15%",render:function(t,a,n){var r=n+(e.state.pagination.current-1)*e.state.pagination.pageSize;return Object(w.jsx)(N.a,{format:k,displayType:"text",value:isNaN(e.state.data[r].qty)||isNaN(e.state.data[r].price)?0:e.state.data[r].qty*e.state.data[r].price})}},{title:"Hapus",dataIndex:"remove",render:function(t,a){return e.state.data.length>1?Object(w.jsx)(y.a,{type:"default",danger:!0,onClick:function(){return r(a.id)},children:"Hapus"}):null}}]:"surat"===e.formState&&(a=[{title:e.state.columns[0],dataIndex:"id",width:"5%"},{title:e.state.columns[1],dataIndex:"code",editable:!0,width:"15%"},{title:e.state.columns[2],dataIndex:"name",editable:!0,width:"50%"},{title:e.state.columns[3],dataIndex:"qty",editable:!0,width:"10%",align:"right"},{title:"Hapus",dataIndex:"remove",render:function(t,a){return e.state.data.length>1?Object(w.jsx)(y.a,{type:"default",danger:!0,onClick:function(){return r(a.id)},children:"Hapus"}):null}}]);var n=a.map((function(t){return t.editable?Object(h.a)(Object(h.a)({},t),{},{onCell:function(a,n){return{record:a,rowIndex:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,state:e.state,dispatch:e.dispatch,formState:e.formState}}}):t})),r=function(t){e.dispatch({type:"REMOVE_ITEM",payload:t})},s=function(){return Math.ceil(e.state.data.length/e.state.pagination.pageSize)!==e.state.pagination.current&&"kwitansi"!==e.formState};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{span:"22",offset:"1",children:Object(w.jsx)(v.a,Object(h.a)({components:t,dataSource:e.state.data,columns:n,pagination:e.state.pagination,onChange:function(t){return function(t){var a=_(e.form.getFieldsValue());e.form.validateFields(a).then((function(a){e.dispatch({type:"CHANGE_PAGE",payload:t.current})})).catch((function(e){console.log("form values are missing")}))}(t)},rowKey:"count"},"faktur"===e.formState&&{footer:function(){return Object(w.jsxs)("div",{style:{fontWeight:"bold"},children:[Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{offset:"15",span:"3",children:"Subtotal"}),Object(w.jsx)(c.a,{span:"3",offset:"3",style:{textAlign:"end"},children:Object(w.jsx)(N.a,{displayType:"text",format:k,value:isNaN(e.state.buyerInfo.subtotal)?0:e.state.buyerInfo.subtotal})})]}),Object(w.jsxs)(i.a,{align:"middle",children:[Object(w.jsx)(c.a,{offset:"15",span:"3",children:"Discount"}),Object(w.jsx)(c.a,{span:"2",children:Object(w.jsx)(O.a.Item,{name:"discount",rules:[{required:!0,message:"Discount tidak boleh kosong"}],initialValue:e.state.buyerInfo.discount,style:{marginBottom:0,fontWeight:"normal"},children:Object(w.jsx)(N.a,{suffix:"%",customInput:f.a,displayType:"input",allowNegative:!1,value:e.state.buyerInfo.discount,style:{textAlign:"end"},onValueChange:function(t){var a=t.value;e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"discount",value:parseInt(a)}})}})})}),Object(w.jsx)(c.a,{span:"3",offset:"1",style:{textAlign:"end"},children:Object(w.jsx)(N.a,{displayType:"text",format:k,value:isNaN(e.state.buyerInfo.totalDiscount)?0:e.state.buyerInfo.totalDiscount})})]}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{offset:"15",span:"3",children:"Grand Total"}),Object(w.jsx)(c.a,{span:"3",offset:"3",style:{textAlign:"end"},children:Object(w.jsx)(N.a,{displayType:"text",format:k,value:isNaN(e.state.buyerInfo.totalDiscount)||isNaN(e.state.buyerInfo.subtotal)?0:e.state.buyerInfo.subtotal-e.state.buyerInfo.totalDiscount})})]})]})}}))})}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{offset:"1",children:Object(w.jsx)(I.a,{title:"Yakin ingin hapus semua barang?",onConfirm:function(){e.dispatch({type:"REMOVE_ALL",payload:e.form}),e.form.setFieldsValue({code0:"",name0:"",discount0:!1,qty0:1,price0:0})},okText:"Yes",cancelText:"No",children:Object(w.jsx)(y.a,{type:"default",size:"large",htmlType:"button",danger:!0,children:"Hapus Semua Barang"})})}),Object(w.jsx)(c.a,{span:"4",offset:"1",children:Object(w.jsx)(c.a,{children:Object(w.jsx)(y.a,{type:"default",size:"large",htmlType:"button",hidden:s(),onClick:function(){var t=_(e.form.getFieldsValue()),a={id:e.state.data.length+1,count:e.state.data[e.state.data.length-1].count+1,code:"",name:"",discount:!1,qty:1,price:0};e.state.data.length%e.state.pagination.pageSize===0?e.form.validateFields(t).then((function(t){e.dispatch({type:"ADD_ITEM",payload:a})})).catch((function(e){console.log("form values are missing")})):e.dispatch({type:"ADD_ITEM",payload:a})},children:"Tambah Barang Baru"})})}),Object(w.jsx)(c.a,{offset:"10",children:Object(w.jsx)(O.a.Item,{style:{marginBottom:0},children:Object(w.jsx)(y.a,{type:"primary",size:"large",htmlType:"submit",hidden:s(),children:"Generate"})})})]})]})},E=function(e){var t=O.a.useForm(),a=Object(s.a)(t,1)[0];return Object(w.jsxs)(O.a,{form:a,layout:"vertical",onFinish:e.submitHandler,scrollToFirstError:!0,children:[Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{span:"13",offset:"1",children:Object(w.jsx)(O.a.Item,{name:"companyName",rules:[{required:!0,message:"Nama perusahaan tidak boleh kosong"}],label:"Nama Perusahaan",initialValue:e.state.buyerInfo.name,children:Object(w.jsx)(f.a,{onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"name",value:t.target.value}})}})})}),Object(w.jsx)(c.a,{span:"8",offset:"1",children:Object(w.jsx)(O.a.Item,{name:"city",label:"Kota",rules:[{required:!0,message:"Kota tidak boleh kosong"}],initialValue:e.state.buyerInfo.city,children:Object(w.jsx)(f.a,{onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"city",value:t.target.value}})}})})})]}),Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{span:"22",offset:"1",children:Object(w.jsx)(O.a.Item,{name:"address",label:"Alamat Perusahaan",rules:[{required:!0,message:"Alamat perusahaan tidak boleh kosong"}],initialValue:e.state.buyerInfo.address,children:Object(w.jsx)(f.a,{maxLength:80,onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"address",value:t.target.value}})}})})})}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{span:"6",offset:"1",children:Object(w.jsx)(O.a.Item,{name:"date",label:"Tanggal",rules:[{required:!0,message:"Tanggal tidak boleh kosong"}],initialValue:p()(e.state.buyerInfo.date,"DD-MM-YYYY"),children:Object(w.jsx)(x.a,{format:"DD-MM-YYYY",onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"date",value:t.target.value}})}})})}),"faktur"===e.formState&&Object(w.jsx)(c.a,{span:"7",children:Object(w.jsx)(O.a.Item,{name:"due",label:"Jatuh Tempo",rules:[{required:!0,message:"Jatuh tempo tidak boleh kosong"}],initialValue:p()(e.state.buyerInfo.due,"DD-MM-YYYY"),children:Object(w.jsx)(x.a,{format:"DD-MM-YYYY",onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"due",value:t.target.value}})}})})}),Object(w.jsx)(c.a,{flex:"auto",pull:"1",children:Object(w.jsx)(O.a.Item,{name:"number",label:"faktur"===e.formState?"Nomor Faktur Jual":"Nomor Surat Jalan",rules:[{required:!0,message:"Nomor faktur jual tidak boleh kosong"}],initialValue:e.state.buyerInfo.number,children:Object(w.jsx)(f.a,{onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"number",value:t.target.value}})}})})})]}),Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{span:"22",offset:"1",children:Object(w.jsx)(O.a.Item,{label:"Keterangan",name:"note",initialValue:e.state.buyerInfo.note,children:Object(w.jsx)(f.a.TextArea,{maxLength:120,onBlur:function(t){return e.dispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"note",value:t.target.value}})}})})})}),Object(w.jsx)(D,{dispatch:e.dispatch,state:e.state,form:a,formState:e.formState,isButtonHidden:e.isButtonHidden})]})},S=a(103),U=a(104),P=a(109),M=a(105),V=a.p+"static/media/logo_with_text.def95dbe.png",C=function(e){Object(P.a)(a,e);var t=Object(M.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=10;"surat"===this.props.formState&&(e=14);for(var t=this.props.state.data.length,a=Math.ceil(t/e),n=[],r=0;r<a;r++){var s=r*e,i=s+e,c=t%e;r===a-1&&0!==c&&(i=s+c),n.push(Object(w.jsxs)("div",{className:"invoice page-break",children:[Object(w.jsx)(B,Object(h.a)(Object(h.a)({},this.props.state.buyerInfo),{},{formState:this.props.formState,page:r+1,pageCount:a})),Object(w.jsx)(F,Object(h.a)({},this.props.state.buyerInfo)),Object(w.jsx)(L,Object(h.a)(Object(h.a)({},this.props.state.buyerInfo),{},{formState:this.props.formState})),Object(w.jsx)(Y,Object(h.a)(Object(h.a)({},this.props),{},{start:s,end:i})),Object(w.jsx)(q,Object(h.a)(Object(h.a)({},this.props.state),{},{formState:this.props.formState}))]},"page".concat(r+1)))}return Object(w.jsx)("div",{children:n})}}]),a}(j.a.PureComponent),B=function(e){return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"column",children:Object(w.jsx)("img",{src:V,alt:"logo"})}),Object(w.jsxs)("h1",{id:"title",className:"column",children:["faktur"===e.formState&&"FAKTUR PENJUALAN","surat"===e.formState&&"SURAT JALAN"]}),Object(w.jsxs)("h3",{id:"pageNo",className:"column",children:["Page ",e.page," of ",e.pageCount]})]})},F=function(e){return Object(w.jsxs)("div",{id:"buyerCompany",className:"column",children:[Object(w.jsx)("h3",{children:"Kepada Yth."}),Object(w.jsx)("h3",{children:e.name}),Object(w.jsx)("h3",{children:e.address}),Object(w.jsx)("h3",{children:e.city})]})},L=function(e){return Object(w.jsx)("div",{className:"column",children:Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("h3",{children:[Object(w.jsxs)("span",{children:["No. ",e.formState]}),": ",e.number]}),Object(w.jsxs)("h3",{children:[Object(w.jsx)("span",{children:"Tanggal dokumen"}),": ",e.date]}),"faktur"===e.formState&&Object(w.jsxs)("h3",{children:[Object(w.jsx)("span",{children:"Jatuh tempo (30 hari)"}),": ",e.due]})]})})},Y=function(e){var t=e.start,a=e.end,n=e.state.data.slice(t,a);return Object(w.jsxs)("table",{id:"innerTable",children:["faktur"===e.formState?Object(w.jsxs)("colgroup",{children:[Object(w.jsx)("col",{span:"1",style:{width:"5%"}}),Object(w.jsx)("col",{span:"1",style:{width:"20%"}}),Object(w.jsx)("col",{span:"1",style:{width:"40%"}}),Object(w.jsx)("col",{span:"1",style:{width:"5%"}}),Object(w.jsx)("col",{span:"1",style:{width:"5%"}}),Object(w.jsx)("col",{span:"1",style:{width:"10%"}}),Object(w.jsx)("col",{span:"1",style:{width:"15%"}})]}):Object(w.jsxs)("colgroup",{children:[Object(w.jsx)("col",{span:"1",style:{width:"5%"}}),Object(w.jsx)("col",{span:"1",style:{width:"20%"}}),Object(w.jsx)("col",{span:"1",style:{width:"70%"}}),Object(w.jsx)("col",{span:"1",style:{width:"5%"}})]}),Object(w.jsx)("thead",{children:Object(w.jsx)("tr",{children:e.state.columns.map((function(e,t){return Object(w.jsx)("th",Object(h.a)(Object(h.a)({},("harga"===e.toLowerCase()||"total"===e.toLowerCase()||"qty"===e.toLowerCase())&&{className:"numeric"}),{},{children:e}),t)}))})}),Object(w.jsx)("tbody",{children:n.map((function(t,a){return Object(w.jsxs)("tr",{className:"items",children:[Object.keys(t).map((function(a,n){if("count"!==a&&("price"!==a&&"discount"!==a&&"surat"===e.formState||"faktur"===e.formState))return Object(w.jsx)("td",Object(h.a)(Object(h.a)({},("price"===a||"qty"===a)&&{className:"numeric"}),{},{children:"price"===a?Object(w.jsx)(N.a,{format:k,displayType:"text",value:isNaN(t[a])?0:t[a]}):"qty"===a&&isNaN(t[a])?0:"discount"===a?t.discount&&0!==e.state.buyerInfo.discount?"".concat(e.state.buyerInfo.discount,"%"):"-":t[a]}),n)})),"faktur"===e.formState&&Object(w.jsx)("td",{className:"numeric",children:Object(w.jsx)(N.a,{format:k,displayType:"text",value:isNaN(t.qty)||isNaN(t.price)?0:t.qty*t.price})})]},a)}))}),Object(w.jsxs)("tfoot",{children:["faktur"===e.formState&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("tr",{className:"numeric",id:"subtotal",children:[Object(w.jsx)("td",{colSpan:"6",children:"Subtotal"}),Object(w.jsx)("td",{children:k(e.state.buyerInfo.subtotal)})]}),Object(w.jsxs)("tr",{className:"numeric",id:"discount",children:[Object(w.jsx)("td",{colSpan:"6",children:"Discount (".concat(k(e.state.buyerInfo.discount),"%)")}),Object(w.jsx)("td",{children:k(e.state.buyerInfo.totalDiscount)})]}),Object(w.jsxs)("tr",{className:"numeric",id:"grandTotal",children:[Object(w.jsx)("td",{colSpan:"6",children:"Grand total"}),Object(w.jsx)("td",{children:k(parseInt(e.state.buyerInfo.subtotal)-parseInt(e.state.buyerInfo.totalDiscount))})]})]}),Object(w.jsx)("tr",{children:Object(w.jsx)("td",{colSpan:"faktur"===e.formState?7:4,children:Object(w.jsxs)("div",{id:"note",children:["Keterangan:\xa0",e.state.buyerInfo.note]})})})]})]})},q=function(e){return Object(w.jsxs)("footer",{children:[Object(w.jsx)(R,{person:"Penerima"}),Object(w.jsx)(R,{person:"faktur"===e.formState?"Penjual":"Hormat kami"}),Object(w.jsx)(R,{person:"Checklist"})]})},R=function(e){var t=e.person;return Object(w.jsxs)("div",{className:"sign",children:[Object(w.jsx)("h3",{children:t}),Object(w.jsx)("span",{children:"________________"})]})},z=a.p+"static/media/logo_with_text_rotated.0b99caeb.png",H=a(234),J=a(241),K=H.a.Header,G=H.a.Sider,W=H.a.Content,Q=function(e){Object(P.a)(a,e);var t=Object(M.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return Object(w.jsxs)(H.a,{style:{backgroundColor:"transparent",height:"99%",fontSize:"1.2em"},children:[Object(w.jsx)(G,{width:"15%",style:{backgroundColor:"transparent",border:"solid 4px black",borderStyle:"double"},children:Object(w.jsx)("div",{id:"logo",children:Object(w.jsx)("img",{src:z,alt:"logo"})})}),Object(w.jsxs)(H.a,{style:{backgroundColor:"transparent",border:"solid 1px black"},children:[Object(w.jsx)(K,{style:{backgroundColor:"transparent",border:"solid 1px black"},children:Object(w.jsx)("h1",{children:"Kwitansi"})}),Object(w.jsx)(W,{style:{backgroundColor:"transparent",border:"solid 1px black",height:"40%"},children:Object(w.jsxs)(J.b,{direction:"vertical",size:"small",style:{width:"100%"},children:[Object(w.jsxs)(i.a,{style:{marginTop:"1em"},children:[Object(w.jsx)(c.a,{span:"5",offset:"1",children:"No. kwitansi"}),Object(w.jsx)(c.a,{span:"1",children:":"}),Object(w.jsx)(c.a,{className:"field",span:"15",children:this.props.state.data.receiptNumber})]}),Object(w.jsxs)(i.a,{align:"bottom",children:[Object(w.jsx)(c.a,{span:"5",offset:"1",children:"Sudah terima dari"}),Object(w.jsx)(c.a,{span:"1",children:":"}),Object(w.jsx)(c.a,{className:"field",span:"15",children:this.props.state.data.name})]}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{span:"5",offset:"1",children:"Banyaknya uang"}),Object(w.jsx)(c.a,{span:"1",children:":"}),Object(w.jsx)(c.a,{className:"field",span:"15",children:Object(w.jsx)("div",{id:"textarea",children:this.props.state.data.amountWritten})})]}),Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{className:"field",offset:"7",span:"15",children:"\xa0"})}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{span:"5",offset:"1",children:"Untuk pembayaran"}),Object(w.jsx)(c.a,{span:"1",children:":"}),Object(w.jsx)(c.a,{className:"field",span:"15",children:Object(w.jsx)("div",{id:"textarea",children:this.props.state.data.matter})})]}),Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{className:"field",offset:"7",span:"15",children:"\xa0"})}),Object(w.jsxs)(J.b,{direction:"vertical",size:"large",style:{width:"100%"},children:[Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{className:"field",offset:"7",span:"15",children:"\xa0"})}),Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{className:"field",offset:"16",span:"5",style:{textAlign:"center"},children:this.props.state.data.date})})]}),Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{children:"\xa0"})}),Object(w.jsxs)(i.a,{className:"footer",children:[Object(w.jsx)(c.a,{offset:"1",span:"4",children:"Cek / Giro No."}),Object(w.jsx)(c.a,{className:"field",span:"6",children:this.props.state.data.giroNumber})]}),Object(w.jsxs)(i.a,{className:"footer",children:[Object(w.jsx)(c.a,{offset:"1",span:"4",children:"Jumlah"}),Object(w.jsxs)(c.a,{className:"field",span:"6",children:["Rp.\xa0",k(this.props.state.data.amount)]}),Object(w.jsx)(c.a,{className:"field",offset:"16",span:"5"})]})]})})]})]})}}]),a}(j.a.PureComponent),X=a(76),Z=function(e,t){switch(t.type){case"ADD_ITEM":var a=t.payload,n=Object(X.a)(e.data).length,r=e.pagination.pageSize,s=Math.ceil((n+1)/r);return Object(h.a)(Object(h.a)({},e),{},{data:[].concat(Object(X.a)(e.data),[a]),pagination:Object(h.a)(Object(h.a)({},e.pagination),{},{current:s})});case"REMOVE_ITEM":for(var i=t.payload,c=Object(X.a)(e.data),l=Math.ceil(c.length/e.pagination.pageSize),o=c.filter((function(e){return e.id!==i})),d=i-1;d<o.length;d++)o[d].id=o[d].id-1;var u=e.pagination.current;return o.length%e.pagination.pageSize===0&&l===u&&(u-=1),Object(h.a)(Object(h.a)({},e),{},{data:o,pagination:Object(h.a)(Object(h.a)({},e.pagination),{},{current:u})});case"REMOVE_ALL":return Object(h.a)(Object(h.a)({},e),{},{data:[{id:1,count:1,code:"",name:"",discount:!1,qty:1,price:0}],buyerInfo:Object(h.a)(Object(h.a)({},e.buyerInfo),{},{subtotal:0,totalDiscount:0}),pagination:Object(h.a)(Object(h.a)({},e.pagination),{},{current:1})});case"UPDATE_FORM_INPUT_VALUE":var j=t.payload.value,b=t.payload.name,p=Object(h.a)({},e.buyerInfo);return p[b]=j,"discount"===b&&(p.totalDiscount=T(e.data,j),console.log(p.totalDiscount)),Object(h.a)(Object(h.a)({},e),{},{buyerInfo:Object(h.a)({},p)});case"UPDATE_TABLE_INPUT_VALUE":var m=t.payload.index,O=t.payload.val,f=t.payload.column,x=Object(X.a)(e.data),g=Object(h.a)({},x[m]);g[f]=O,x[m]=g;var y=parseInt(x.reduce((function(e,t){return e+t.qty*t.price}),0)),v=T(x,e.buyerInfo.discount);return Object(h.a)(Object(h.a)({},e),{},{data:Object(X.a)(x),buyerInfo:Object(h.a)(Object(h.a)({},e.buyerInfo),{},{subtotal:y,totalDiscount:v})});case"CHANGE_PAGE":var I=t.payload;return Object(h.a)(Object(h.a)({},e),{},{pagination:Object(h.a)(Object(h.a)({},e.pagination),{},{current:I})});case"CHANGE_FORM":var N="faktur"===t.payload?["No.","Kode Barang","Nama Barang","Disc.","Qty","Harga","Total"]:["No.","Kode Barang","Nama Barang","Qty"];return Object(h.a)(Object(h.a)({},e),{},{columns:N});default:throw new Error("No matching case found")}},$=function(e,t){switch(t.type){case"UPDATE_FORM_INPUT_VALUE":var a=t.payload.value,n=t.payload.name,r=Object(h.a)({},e.data);return r[n]=a,Object(h.a)(Object(h.a)({},e),{},{data:r});default:throw new Error("No matching case found")}},ee=function(){var e=Object(u.useContext)(oe).handleFinish;return Object(w.jsx)("div",{id:"kwitansi",children:Object(w.jsxs)(O.a,{layout:"vertical",scrollToFirstError:!0,onFinish:e,children:[Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{offset:"1",span:"13",children:Object(w.jsx)(te,{})}),Object(w.jsx)(c.a,{offset:"1",span:"8",children:Object(w.jsx)(ae,{})})]}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{offset:"1",span:"7",children:Object(w.jsx)(ne,{})}),Object(w.jsx)(c.a,{flex:"auto",pull:"1",children:Object(w.jsx)(re,{})})]}),Object(w.jsxs)(i.a,{children:[Object(w.jsx)(c.a,{offset:"1",span:"5",children:Object(w.jsx)(se,{})}),Object(w.jsx)(c.a,{offset:"1",span:"16",children:Object(w.jsx)(ie,{})})]}),Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{offset:"1",span:"22",children:Object(w.jsx)(ce,{})})}),Object(w.jsx)(i.a,{justify:"end",children:Object(w.jsx)(c.a,{pull:"1",children:Object(w.jsx)(le,{})})})]})})},te=function(){var e=Object(u.useContext)(oe);return Object(w.jsx)(O.a.Item,{name:"name",label:"Nama Pembayar",rules:[{required:!0,message:"Nama pembayar tidak boleh kosong"}],initialValue:e.receiptState.data.name,children:Object(w.jsx)(f.a,{onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"name",value:t.target.value}})}})})},ae=function(){var e=Object(u.useContext)(oe);return Object(w.jsx)(O.a.Item,{name:"receiptNumber",label:"Nomor Kwitansi",rules:[{required:!0,message:"Nomor kwitansi tidak boleh kosong"}],initialValue:e.receiptState.data.receiptNumber,children:Object(w.jsx)(f.a,{onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"receiptNumber",value:t.target.value}})}})})},ne=function(){var e=Object(u.useContext)(oe);return Object(w.jsx)(O.a.Item,{name:"date",label:"Tanggal",rules:[{required:!0,message:"Tanggal tidak boleh kosong"}],initialValue:p()(e.receiptState.data.date,"DD-MM-YYYY"),children:Object(w.jsx)(x.a,{format:"DD-MM-YYYY",onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"date",value:t.target.value}})}})})},re=function(){var e=Object(u.useContext)(oe);return Object(w.jsx)(O.a.Item,{name:"giroNumber",label:"Nomor cek / giro",rules:[{required:!0,message:"Nomor cek / giro tidak boleh kosong"}],initialValue:e.receiptState.data.giroNumber,children:Object(w.jsx)(f.a,{onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"giroNumber",value:t.target.value}})}})})},se=function(){var e=Object(u.useContext)(oe);return Object(w.jsx)(O.a.Item,{name:"amount",label:"Jumlah Uang",rules:[{required:!0,message:"Jumlah uang tidak boleh kosong"}],initialValue:e.receiptState.data.amount,children:Object(w.jsx)(N.a,{format:k,displayType:"input",customInput:f.a,style:{width:"100%"},onValueChange:function(t){var a=t.value;e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{value:parseInt(a),name:"amount"}})}})})},ie=function(){var e=Object(u.useContext)(oe);return Object(w.jsx)(O.a.Item,{name:"amountWritten",label:"Jumlah Uang (Terbilang)",rules:[{required:!0,message:"Jumlah uang (terbilang) tidak boleh kosong"}],initialValue:e.receiptState.data.amountWritten,children:Object(w.jsx)(f.a,{onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"amountWritten",value:t.target.value}})}})})},ce=function(){var e=Object(u.useContext)(oe);return Object(w.jsx)(O.a.Item,{name:"matter",label:"Untuk Kepentingan",rules:[{required:!0,message:"Kepentingan tidak boleh kosong"}],initialValue:e.receiptState.data.matter,children:Object(w.jsx)(f.a.TextArea,{maxLength:150,onBlur:function(t){return e.receiptDispatch({type:"UPDATE_FORM_INPUT_VALUE",payload:{name:"matter",value:t.target.value}})}})})},le=function(){return Object(w.jsx)(O.a.Item,{style:{marginBottom:0},children:Object(w.jsx)(y.a,{type:"primary",size:"large",htmlType:"submit",children:"Generate"})})},oe=j.a.createContext(),de=function(){var e={data:[{id:1,count:1,code:"",name:"",discount:!1,qty:1,price:0}],buyerInfo:{name:"",number:"",address:"",date:p()(new Date).format("DD-MM-YYYY"),due:p()(new Date).add(30,"days").format("DD-MM-YYYY"),city:"",note:"",discount:0,totalDiscount:0,subtotal:0},columns:["No.","Kode Barang","Nama Barang","Disc.","Qty","Harga","Total"],pagination:{current:1,pageSize:5}},t={data:{name:"",receiptNumber:"",date:p()(new Date).format("DD-MM-YYYY"),giroNumber:"",amount:"",amountWritten:"",matter:""}},a=Object(u.useState)("faktur"),n=Object(s.a)(a,2),r=n[0],j=n[1],b=Object(u.useReducer)(Z,e),h=Object(s.a)(b,2),m=h[0],O=h[1],f=Object(u.useReducer)($,t),x=Object(s.a)(f,2),g=x[0],y=x[1],v=Object(u.useRef)(),I=Object(u.useRef)(),N=Object(d.useReactToPrint)("kwitansi"!==r?{content:function(){return v.current},pageStyle:'\n @media print {  \n   html *{\n      font-family: "Trebuchet MS";\n    }\n      @page { \n      size: 21cm 13.97cm;\n    } \n    .numeric{\n      text-align:right;\n    }\n    .page-break{\n      page-break-before: always;\n      page-break-after: always;\n      display: block;\n    }\n\n    #title{\n      text-align: center;\n    }\n\n    .invoice{\n      font-size: 0.7em;\n    }\n    \n    #pageNo{\n      padding-left: 10%;\n    }\n    #buyerCompany{\n      width: 66%;\n    }\n    .column{\n      display: inline-block;\n      width: 33%;\n      margin-bottom: 0.5em;\n    }\n    \n    .info {\n      display: table;\n    }\n    .info h3 {\n      display: table-row;\n    }\n    .info span{\n      display: table-cell;\n      padding-right: 2mm;\n      padding-top: 1.5mm;\n    }\n     table{\n        width: 100%;\n        height:21.5em;\n        font-size: 1.2em;\n        border-top: solid 1px black;\n      }\n      table tr{\n        height:1em;\n      }\n      table tr:last-child{\n        height:auto;\n        border-bottom: solid 1px black;\n      }\n      table td, table th{\n        border-left: solid 1px black;\n        border-right: solid 1px black;\n        padding-left: 1mm;\n        padding-right: 1mm;\n        vertical-align:text-top; \n      }\n      table, table th{\n        border-bottom: solid 1px black;\n      }\n      table, table th{\n        border: solid 1px black;\n      }\n      table #note td, table #subtotal td, table #discount td{\n        border-top: none;\n        border-bottom: none;\n      }\n       table #grandTotal td{\n         border-bottom: solid 1px black;\n         font-weight: bold;\n       }\n      table #note{\n        height: 1.5em;\n        overflow: hidden;\n      }\n\n      h3 {\n        line-height:1em;\n      }\n      footer {\n        display: flex;\n        position:fixed;\n        bottom: 0;\n        left: 25%;\n        text-align:center;\n      }\n      .sign:nth-child(2){\n        margin-left: 5em;\n      }\n      \n      .sign:last-child{\n        margin-left: 5em;\n      }\n      .sign h3{\n        padding-bottom: 3em;\n      }\n  }\n  '}:{content:function(){return I.current},pageStyle:'\n    @media print{\n      html *{\n        font-family: "Trebuchet MS";\n        font-size: 0.97em;\n      }\n      \n      @page { \n        size: 21.59cm 13.97cm;\n      }\n\n      h1 {\n        font-size: 2em;\n      }\n\n      #logo{\n        position: absolute;\n        bottom: 7%;\n        text-align: center; \n        left: 0;\n        right: 0;\n      }\n\n      .field {\n        border-bottom: solid 2px black;\n      }\n\n      #textarea{\n        position: absolute;\n        word-wrap: break-word;\n        line-height: 2.1em;\n        top: -1mm;\n      }\n\n      .footer{\n        font-size: 0.8em;\n      }\n    }\n'});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{style:{overflow:"hidden",height:0},children:"kwitansi"!==r?Object(w.jsx)(C,{ref:v,state:m,formState:r}):Object(w.jsx)(Q,{ref:I,state:g})}),Object(w.jsxs)(i.a,{style:{marginTop:"1vw"},children:[Object(w.jsx)(c.a,{offset:"4",children:Object(w.jsxs)(l.a.Group,{defaultValue:"faktur",buttonStyle:"solid",onChange:function(e){var t=e.target.value;j(t),O({type:"CHANGE_FORM",payload:t})},children:[Object(w.jsx)(l.a.Button,{value:"faktur",children:"Faktur Penjualan"}),Object(w.jsx)(l.a.Button,{value:"surat",children:"Surat Jalan"}),Object(w.jsx)(l.a.Button,{value:"kwitansi",children:"Kwitansi"})]})}),Object(w.jsx)(c.a,{offset:"2",children:Object(w.jsxs)("h2",{children:["faktur"===r&&"Info Faktur","surat"===r&&"Info Surat Jalan","kwitansi"===r&&"Info Kwitansi"]})})]}),Object(w.jsx)(i.a,{children:Object(w.jsx)(c.a,{offset:"4",span:"16",children:Object(w.jsx)(o.a,{children:"kwitansi"!==r?Object(w.jsx)(E,{submitHandler:N,state:m,dispatch:O,formState:r}):Object(w.jsx)(oe.Provider,{value:{receiptState:g,receiptDispatch:y,handleFinish:N},children:Object(w.jsx)(ee,{})})})})})]})},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,242)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))};r.a.render(Object(w.jsx)(de,{}),document.getElementById("root")),ue()}},[[232,1,2]]]);
//# sourceMappingURL=main.e89a76fe.chunk.js.map