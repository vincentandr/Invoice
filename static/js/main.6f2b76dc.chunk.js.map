{"version":3,"sources":["util.js","reducer.js","invoice.js","assets/logo_with_text.png","form.js","App.js","reportWebVitals.js","index.js"],"names":["numberWithCommas","x","toString","replace","qtyFormat","input","value","priceFormat","getFieldsOnTable","fields","keys","Object","regex","RegExp","filter","key","test","calculateGrandTotal","data","discount","reduce","sum","item","qty","price","reducer","state","action","type","newItem","payload","dataLength","length","pageSize","pagination","current","Math","ceil","id","dataCopy","pageCount","newItems","i","grandTotal","buyerInfo","count","code","name","val","index","newVal","column","isShowModal","newCurrentPage","Error","Invoice","this","props","React","PureComponent","Header","TopPart","className","src","alt","BuyerCompany","address","city","Dates","number","date","due","TableItems","span","style","width","columns","map","toLowerCase","outerIndex","innerIndex","format","displayType","colspan","note","Footer","person","SignArea","EditableCell","editable","children","record","dataIndex","rowIndex","title","dispatch","restProps","childNode","page","Item","rules","required","message","initialValue","preserve","marginBottom","isAllowed","allowNegative","customInput","Input","textAlign","onValueChange","values","parseInt","onBlur","e","target","ItemsTable","components","body","cell","tableColumns","align","render","text","_","idx","danger","onClick","removeItem","col","onCell","dataSource","onChange","toBeReset","form","getFieldsValue","validateFields","then","catch","err","console","log","changePage","rowKey","footer","fontWeight","justify","pull","size","htmlType","hidden","isButtonDisabled","newRow","offset","onConfirm","okText","cancelText","InvoiceForm","fullLayout","labelCol","wrapperCol","defaultState","moment","Date","add","Form","useForm","useReducer","invoiceToPrint","useRef","handleFinish","useReactToPrint","content","pageStyle","overflow","height","ref","layout","validateMessages","onFinish","scrollToFirstError","label","maxLength","TextArea","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6f2b76dc.chunk.js","sourcesContent":["const numberWithCommas = (x) => {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n};\r\n\r\nconst qtyFormat = (input) => {\r\n  const { value } = input;\r\n  if (value > 0) return input;\r\n};\r\n\r\nconst priceFormat = (input) => {\r\n  const { value } = input;\r\n  if (value >= 0) return input;\r\n};\r\n\r\nconst getFieldsOnTable = (fields) => {\r\n  let keys = Object.keys(fields);\r\n  let regex = new RegExp(\"^code|^qty|^name|^price\");\r\n  return keys.filter((key) => regex.test(key));\r\n};\r\n\r\nconst calculateGrandTotal = (data, discount) => {\r\n  return data.reduce((sum, item) => sum + item.qty * item.price, 0) - discount;\r\n};\r\n\r\nexport {\r\n  numberWithCommas,\r\n  getFieldsOnTable,\r\n  qtyFormat,\r\n  priceFormat,\r\n  calculateGrandTotal,\r\n};\r\n","import {calculateGrandTotal} from \"./util.js\"\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_ITEM\": {\r\n      let newItem = action.payload;\r\n\r\n      let dataLength = [...state.data].length;\r\n\r\n      let pageSize = state.pagination.pageSize;\r\n\r\n      let current = Math.ceil((dataLength + 1) / pageSize);\r\n\r\n      return {\r\n        ...state,\r\n        data: [...state.data, newItem],\r\n        pagination: { ...state.pagination, current: current },\r\n      };\r\n    }\r\n    case \"REMOVE_ITEM\": {\r\n      let id = action.payload;\r\n\r\n      let dataCopy = [...state.data];\r\n\r\n      let pageCount = Math.ceil(dataCopy.length / state.pagination.pageSize);\r\n\r\n      let newItems = dataCopy.filter((item) => item.id !== id);\r\n\r\n      // reorder id after removing\r\n      for (var i = id - 1; i < newItems.length; i++) {\r\n        newItems[i].id = newItems[i].id - 1;\r\n      }\r\n\r\n      let grandTotal = calculateGrandTotal(newItems, state.buyerInfo.discount);\r\n\r\n      let current = state.pagination.current;\r\n      \r\n      // redirect to previous page if the deleted item is the first and only item of last page\r\n      if (newItems.length % state.pagination.pageSize === 0 && pageCount === current)\r\n        current = current - 1;\r\n      return {\r\n        ...state,\r\n        data: newItems,\r\n        pagination: { ...state.pagination, current: current },\r\n        buyerInfo: { ...state.buyerInfo, grandTotal: grandTotal },\r\n      };\r\n    }\r\n    case \"REMOVE_ALL\": {\r\n      return {\r\n        ...state,\r\n        data: [\r\n          {\r\n            id: 1,\r\n            count: 1,\r\n            code: \"\",\r\n            name: \"\",\r\n            qty: 1,\r\n            price: 0,\r\n          },\r\n        ],\r\n        buyerInfo: { ...state.buyerInfo, grandTotal: 0, discount: 0 },\r\n        pagination: {\r\n          ...state.pagination,\r\n          current: 1,\r\n        },\r\n      };\r\n    }\r\n    case \"UPDATE_FORM_INPUT_VALUE\": {\r\n      let val = action.payload.value;\r\n      let name = action.payload.name;\r\n\r\n      let dataCopy = { ...state.buyerInfo };\r\n\r\n      dataCopy[name] = val;\r\n\r\n      if (name === \"discount\") {\r\n        var grandTotal = calculateGrandTotal(state.data, dataCopy.discount);\r\n        dataCopy.grandTotal = grandTotal;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        buyerInfo: { ...dataCopy },\r\n      };\r\n    }\r\n    case \"UPDATE_TABLE_INPUT_VALUE\": {\r\n      let index = action.payload.index;\r\n      let newVal = action.payload.val;\r\n      let column = action.payload.column;\r\n\r\n      let dataCopy = [...state.data];\r\n\r\n      let item = { ...dataCopy[index] };\r\n\r\n      item[column] = newVal;\r\n\r\n      dataCopy[index] = item;\r\n\r\n      let grandTotal = calculateGrandTotal(dataCopy, state.buyerInfo.discount);\r\n\r\n      return {\r\n        ...state,\r\n        data: [...dataCopy],\r\n        buyerInfo: { ...state.buyerInfo, grandTotal: grandTotal },\r\n      };\r\n    }\r\n    case \"TOGGLE_MODAL\":\r\n      return {\r\n        ...state,\r\n        isShowModal: !state.isShowModal,\r\n      };\r\n    case \"CHANGE_PAGE\":\r\n      const newCurrentPage = action.payload;\r\n      return {\r\n        ...state,\r\n        pagination: { ...state.pagination, current: newCurrentPage },\r\n      };\r\n    default:\r\n      throw new Error(\"No matching case found\");\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport { numberWithCommas } from \"./util.js\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport logo from \"./assets/logo_with_text.png\";\r\n\r\nconst invoiceStyle = `\r\n  @media print {  \r\n      @page { \r\n      size: 21.59cm 13.97cm;\r\n    } \r\n\r\n    #outerTable{\r\n      width: 100%;\r\n      font-size:0.7em;\r\n    }\r\n\r\n    #outerTable thead {display: table-header-group;}\r\n\r\n    #outerTable tfoot td {\r\n      height: 7em;\r\n    }\r\n\r\n    .column{\r\n      display: inline-block;\r\n      width: 33%;\r\n      margin-bottom: 1em;\r\n    }\r\n\r\n    #buyerCompany{\r\n      width: 66%;\r\n      display: inline-block;\r\n      margin-bottom: 1em;\r\n    }\r\n\r\n    h3 {\r\n        line-height:1em;\r\n      }\r\n\r\n    .info {\r\n      display: table;\r\n    }\r\n    .info h3 {\r\n      display: table-row;\r\n    }\r\n    .info span{\r\n      display: table-cell;\r\n      padding-right: 2mm;\r\n      padding-top: 1.5mm;\r\n    }\r\n\r\n    footer {\r\n      display:flex;\r\n      position: fixed;\r\n      bottom: 0;\r\n      left: 25%;\r\n      text-align:center;\r\n    }\r\n\r\n    \r\n      .sign{\r\n        font-size:0.7em;\r\n        margin-left: 5em;\r\n        text-align: center;\r\n      }\r\n          \r\n      .sign h3{\r\n        padding-bottom: 3em;\r\n      }\r\n\r\n    #innerTable{\r\n      width:100%;\r\n      border: solid 1px black;\r\n      page-break-after: always;\r\n    }\r\n\r\n    #innerTable tr{\r\n      font-size:0.8em;\r\n    }\r\n\r\n\r\n    #innerTable th{\r\n      border-left: solid 1px black;\r\n      border-right: solid 1px black;\r\n    }\r\n\r\n       #innerTable td{\r\n         border-bottom: solid 1px black;\r\n        border-left: solid 1px black;\r\n        border-right: solid 1px black;\r\n        padding-left: 1mm;\r\n        padding-right: 1mm;\r\n        vertical-align:text-top; \r\n      }\r\n      #innerTable{\r\n        border-top: solid 1px black;\r\n        border-bottom: solid 1px black;\r\n      }\r\n\r\n      #innerTable tbody tr:last-child {\r\n        border-bottom:1px solid black;\r\n      }\r\n\r\n      #innerTable #note td,{\r\n        border-top: none;\r\n        border-bottom: none;\r\n      }\r\n\r\n       #innerTable #grandTotal td{\r\n         border-bottom: solid 1px black;\r\n       }\r\n      #innerTable #note{\r\n        height: 3em;\r\n        overflow: hidden;\r\n      }\r\n\r\n      .numeric{\r\n        text-align:right;\r\n      }\r\n  }\r\n  `;\r\n\r\nclass Invoice extends React.PureComponent {\r\n  render() {\r\n    return (\r\n      <div id=\"invoice\">\r\n        <table id=\"outerTable\">\r\n          <thead>\r\n            <Header />\r\n          </thead>\r\n          <tbody>\r\n            <BuyerCompany {...this.props.state.buyerInfo} />\r\n            <Dates {...this.props.state.buyerInfo} />\r\n            <TableItems {...this.props} />\r\n          </tbody>\r\n          <tfoot>\r\n            <tr><td></td></tr>\r\n          </tfoot>\r\n        </table>\r\n        <div id=\"footer\">\r\n          <Footer {...this.props.state} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <TopPart />\r\n    </header>\r\n  );\r\n};\r\n\r\nconst TopPart = (props) => {\r\n  return (\r\n    <div>\r\n      <div className=\"column\">\r\n        <img src={logo} alt=\"logo\" />\r\n      </div>\r\n      <h1 id=\"title\" className=\"column\">\r\n        FAKTUR PENJUALAN\r\n      </h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SellerCompany = () => {\r\n  return (\r\n    <div id=\"sellerCompany\" className=\"column\">\r\n      <h3>UD. Maju Jaya Diesel</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst BuyerCompany = (props) => {\r\n  return (\r\n    <div id=\"buyerCompany\">\r\n      <h3>Kepada Yth.</h3>\r\n      <h3>{props.name}</h3>\r\n      <h3>{props.address}</h3>\r\n      <h3>{props.city}</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Dates = (props) => {\r\n  return (\r\n    <div className=\"column\">\r\n      <div className=\"info\">\r\n        <h3>\r\n          <span>No. faktur</span>: {props.number}\r\n        </h3>\r\n        <h3>\r\n          <span>Tanggal dokumen</span>: {props.date}\r\n        </h3>\r\n        <h3>\r\n          <span>Jatuh tempo (30 hari)</span>: {props.due}\r\n        </h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableItems = (props) => {\r\n  return (\r\n    <table id=\"innerTable\">\r\n      <colgroup>\r\n        <col span=\"1\" style={{ width: \"5%\" }} />\r\n        <col span=\"1\" style={{ width: \"20%\" }} />\r\n        <col span=\"1\" style={{ width: \"45%\" }} />\r\n        <col span=\"1\" style={{ width: \"5%\" }} />\r\n        <col span=\"1\" style={{ width: \"10%\" }} />\r\n        <col span=\"1\" style={{ width: \"15%\" }} />\r\n      </colgroup>\r\n      <thead>\r\n        <tr>\r\n          {props.state.columns.map((column, index) => (\r\n            <th\r\n              key={index}\r\n              {...((column.toLowerCase() === \"harga\" ||\r\n                column.toLowerCase() === \"total\" ||\r\n                column.toLowerCase() === \"qty\") && {\r\n                className: \"numeric\",\r\n              })}\r\n            >\r\n              {column}\r\n            </th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {props.state.data.map((item, outerIndex) => {\r\n          return (\r\n            <tr key={outerIndex} className=\"items\">\r\n              {Object.keys(item).map((column, innerIndex) => {\r\n                if (column !== \"count\")\r\n                  return (\r\n                    <td\r\n                      key={innerIndex}\r\n                      {...((column === \"price\" || column === \"qty\") && {\r\n                        className: \"numeric\",\r\n                      })}\r\n                    >\r\n                      {column === \"price\" ? (\r\n                        <NumberFormat\r\n                          format={numberWithCommas}\r\n                          displayType=\"text\"\r\n                          value={item[column]}\r\n                        />\r\n                      ) : (\r\n                        item[column]\r\n                      )}\r\n                    </td>\r\n                  );\r\n                return \"\";\r\n              })}\r\n              <td className=\"numeric\">\r\n                <NumberFormat\r\n                  format={numberWithCommas}\r\n                  displayType=\"text\"\r\n                  value={item.qty * item.price}\r\n                />\r\n              </td>\r\n            </tr>\r\n          );\r\n        })}\r\n        <tr className=\"numeric\" id=\"subtotal\">\r\n          <td colspan=\"5\">Subtotal</td>\r\n          <td>\r\n            {numberWithCommas(\r\n              props.state.buyerInfo.grandTotal + props.state.buyerInfo.discount\r\n            )}\r\n          </td>\r\n        </tr>\r\n        <tr className=\"numeric\" id=\"discount\">\r\n          <td colspan=\"5\">Discount</td>\r\n          <td>{numberWithCommas(props.state.buyerInfo.discount)}</td>\r\n        </tr>\r\n        <tr className=\"numeric\" id=\"grandTotal\">\r\n          <td colspan=\"5\">Grand total</td>\r\n          <td>{numberWithCommas(props.state.buyerInfo.grandTotal)}</td>\r\n        </tr>\r\n        <tr>\r\n          <td colspan=\"6\">\r\n            <div id=\"note\">\r\n              Keterangan:\r\n              {props.state.buyerInfo.note}\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nconst Footer = (props) => {\r\n  return (\r\n    <footer>\r\n      <SignArea person=\"Penerima\" />\r\n      <SignArea person=\"Penjual\" />\r\n      <SignArea person=\"Checklist\" />\r\n    </footer>\r\n  );\r\n};\r\n\r\nconst SignArea = ({ person, className }) => {\r\n  return (\r\n    <div className=\"sign\">\r\n      <h3>{person}</h3>\r\n      <span>________________</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Invoice, invoiceStyle };\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAAAbCAYAAAAnO/CsAAAACXBIWXMAAAsTAAALEwEAmpwYAAALLGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wNS0xMlQyMTozMDozNiswNzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNS0xMlQyMTozOTo0MiswNzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDUtMTJUMjE6Mzk6NDIrMDc6MDAiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmZlNDBiNDA2LTJmZjAtNDU0ZC1hNWU3LTQwMDhmMTM0NmI1MSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjVlNWZiNmFhLWM0NzItZjc0Ni05YmRmLThjOGE0ZmRhNzc0NSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjY4MTMyOGJlLWRhMjYtMzk0ZS1iMTViLTg3NWY1YWY3NTJhYSI+IDxwaG90b3Nob3A6VGV4dExheWVycz4gPHJkZjpCYWc+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iVUQuIE1BSlUgSkFZQSBESUVTRUwiIHBob3Rvc2hvcDpMYXllclRleHQ9IlVELiBNQUpVIEpBWUEgRElFU0VMIi8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iU1BBUkUgUEFSVCBESUVTRUwgJmFtcDsgQUxBVC1BTEFUIFRFS05JSyIgcGhvdG9zaG9wOkxheWVyVGV4dD0iU1BBUkUgUEFSVCBESUVTRUwgJmFtcDsgQUxBVC1BTEFUIFRFS05JSyIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3YmVkNGMzMi1lZjk0LWFhNDEtOGZkYS1mMDk5NGYwNDM5ZjQ8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODEzMjhiZS1kYTI2LTM5NGUtYjE1Yi04NzVmNWFmNzUyYWEiIHN0RXZ0OndoZW49IjIwMjEtMDUtMTJUMjE6MzA6MzYrMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Mzk5ODViZTktNmNkNC0zNTRmLTllOWUtNTczZjRlOTg4YmNiIiBzdEV2dDp3aGVuPSIyMDIxLTA1LTEyVDIxOjM1OjQ5KzA3OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjIwM2NlZDBmLTkxYTktYmE0OS05NzU5LWJlYzNjNTcxYzU4YyIgc3RFdnQ6d2hlbj0iMjAyMS0wNS0xMlQyMTozOTo0MiswNzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmZTQwYjQwNi0yZmYwLTQ1NGQtYTVlNy00MDA4ZjEzNDZiNTEiIHN0RXZ0OndoZW49IjIwMjEtMDUtMTJUMjE6Mzk6NDIrMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjAzY2VkMGYtOTFhOS1iYTQ5LTk3NTktYmVjM2M1NzFjNThjIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NGQ2YmZlNTItMjNlMC00MjRkLTg3MzEtNGFmZjQ2NzZmM2Q3IiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NjgxMzI4YmUtZGEyNi0zOTRlLWIxNWItODc1ZjVhZjc1MmFhIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+T1KlegAADYVJREFUeNrtW3twnFUVP19220Bakt02DW3TByQ85DGUTiOFQnmGQVFnpJgOqGUUNAURAVHSGQSliDYCDooiiaAIvjBOQTs4IimllFKwiTRayrSQLU0fMCFtkj5C0266nnO/c7893937fbuBtPrHd2bO5Nv7fpzfPY9742QyGYgoooj85ETAiCiiCBgRRTQMYFxySVD+lcifCquP/E3kXiM9hvww8qjDMOaXkf8Ky5f3uCNwZF4F8te4724jrZfTk/zbJFknjCpE/WbkHZb0FuQ3AuqE9aPL6fqFzOdgyFhPQ66z9Hkecq3Rhk4zy34GeZZIL3Quum9JKeQnAsYHAfsClrleg1zF3+3IyyzrHNTGJ3zzCVAMYcC4CPmFAgRlnAUYP0H+xmEE9B0IjB8YwDgav3fDccfFoatrGwwNTVWpRUWPwPTpC+HAgUHYvr0By9yvypj0zjtpXKTpTlbQrZRxnINe/a6uAeznRKqTicXWw7Rpp6n0HTt2w+DgHIfBYdR5wxkaOt3adjz+EkydOlfXx7Gu0/NxeD4ZYz6Ou9a5bZHQFRe/ApMnl8LWraucdPp8Tj8PxoxZBhUVCW9NSLh0mrsOJdjuwQyBIpl8EhKJMkpHYRlVyFx8fUvat28v9PQMwaFDJ+GvCV4Z2q9M5lk1Lxtlx/kHiMXaYfz4BI53rMrr6+uH3bv34D5U4V4/lLeNZPJuNR9ek8wwgXEq8krkMj4RJyIXW+r/B/kMI+18rns46XEExpetwDjrrDi0tfmBUV29EAYGssC44II4rFxJAnAvt3EHnHtuHNas8QQ9FBhUv6gIYP36vdDdfSOWf8KXvnq1B4wMnW4VFT+H0093N3LlysA+FDBOPXUubNyYBQbPxwcMMZ+8wDj55FLYsCELjFhsKaZdARNxSwcHAefc7xw6lPD63rlzEN5993FMux7LboWamimwaVM/9PYuUNq2gLl4fZ95ZinvxWMqo7j4VmyvlPpEcJzrK0PAoHn19FBfD1pP+3h8uRrj1q1umVjsc+ow0kJfVHRKnjZSCuhTp5bpNRkuMEgLHEDey6BIKcHLpaeR5xkmVB/y2ABTpYW/h5CvRr7BKHM38ovyjEH+NatcTduRb0VgtIwAMEqx9gfeKTp9egKF8mkUwnl5gbFhw14oLx9L5bGvH6v6icTRKHTFPmBogevs7FP5agZ2gT4iwNDjX7u2D2bPTsBrr/XhSU7m0ibsbztceGEcXnyR1maeEqLjjy+Djg6lGQqdiwkMb+wAN0NlZSMcPHiQDhQs81AAMBY4WfMod+07OkhLvIDrfiebYi5wSGOEtOFpwI8ADElLkBsC8h5A/pb4vRT5Cku5QwwaSauR54jf7yJPttT9APko8funyLcjMAZHChjeos+ZE9cnaF5grFmzW5x+31UbPjCwH2bOLPMBQ5en/kaPHjCF5UgCwzsAqqsTlAbjxs2EUaNGeRqC2i4v/4JK27EjprTo2rXDnksIMHwHEGqASwrUGA9j/90+rfzee4AA3Q3p9HLc6+tVvl6bgDaQZ48UMMYyGuMB+XTiP8Lfn0f+XUA5OvWvFb8/jvxPo8xdyPcYafcj32akzUReh8CAEQcGp5MtnRcYVJ/+rlo1gMmbYcaM0+D119Nw0UVxDQzl5JHpoTVLJnMxnHNOGbz6qt0EOdzA0GZUT48yAdEU+QWcfXaJPAzU/AgQo0cDjiNrVmmTsIC5hADDNybsf0YOMI49lrSQzf8rRSA9p9anvDybRwB5803Kr8S9XpynjXkjBYy7WWCD6JPIf0euRN4WUu5kpaqz9Hs2pSQda4lw9COXGlGNavX1/wCMCRP2q8T33z/K65ds8nXrXMGOxZ5SgNm8WdvoVUqzBJkghxsYcuwkaLHYWjW+jRuVOYVtveyZGzNmlHE51xGn4EKBc/lIwAjTGBR1KirahOXKYMqU7N7vQ4u7gDZGUmOYgmnSJMIs8nrDD5BEjviF4vcY5D0c6tX0D+TLjHpXM4AkkUn3ow8FDLY7sczSETGlqH5R0QH8LlEnK9nNu3a9niPYpqM/ZszN6LwmeIyzdDhWbfxwgGGxozP+0OoEnxCm0/dJnwH7/rOqVFm5yDVkPc2QI9QZvbYhc5Hm1AiYUlYfg9uoUJrBcRZAVVWJB5AVK9L497Ej4WNQ1OdXIaAggSpB/jryQyHlLmPBl+bXwwGaR5INbBOQewKAQd+ecIMWbm0+bNniOpmOsyKf8002qxTYQGA4zj5lThQXuxEax2kXgn2TMj1OOmmsT60fjT4rRYSoPMAumDZtimcq6BO8o0OZJ9jeFhOsGWM+jnuvA77Q6pYtTTj/3/rmpPQ21hs3zm9mTGa3Tken7MC4Ju9chDl12JxvP/DJ17gLysqu8rTbEQLGW8gnhAj8o2xmhcX9dyGPN28MkKeL3+/zxYykGcqP8NOzyJ/2ftmAQUIzceLlygnu7/8jCsd7Xih29WoSvlHgNyfu5XrXKROorS0rkBSrZ4HVWsWiMZYpYUsmlWDh7397wEintyoh37aN7PkHxBjPUHX6+5X9DpMmfUmNl1Q/jVVoiEye+UiTzzvVswfDgyjMt6EQDvk0JflEQ0P3eeMpKrpFgXvdOh2d6s0BhjajwuYizKnAcC2NPTu+4YRr3Ys8cafi7V0yeQuUlByFvsbfMK27oDYYGLhHL/jyMpll+YBBt6Cr8twl/BL5Y8hzQ8qYUSvbHcc9Fj/mN3y7Keli5BWhwKCbdop1H3PMGWoB9cUORVjIOaPTX15Qycsft4y64PMusYKAkc27Tp2kdNnU1fU0tl3uXdCl03HUBiX6Yizn1HJP9n6ss8d3YeW2W8k2deh8crSZebHW3d0H+/evQMF8RozTdymnTDMC5+jRxWoOFAKVF29DQ7MRAG8VMhdPqwVd8NFlXD9a58O94CMiLeju9wI1Fk3uHPfmveDTbZCG0Wtpjo0OEAZHEDCWsyBKs2mP5WTPRyciv23ce3zWKDOZQ7VZX8HtS4Z3N4snAGHAMJ8x2J4T2J4NBJWxPXkw8/TzBPmsoYXbrA9ow3xmIZ84hJWHAp6CyKcYrfyEBoxxdvsOE3fMSZFnPiWZPIy5hD0Jkc83hvMkBCxjAcscKwpoY7ZYSxiOxjiOBVESvQmaxu9MAv1Sw6H+lzGAhOXpyHOWNm9E/pmRVs8aygoMJ3rzFtEIkfY5bMB4Cnm++L2fTaBnAi7giDZyuFVGc67l+wtNtyM3GvXmCrRretsLybo0yJGxAxEwIvpfAWO8F/XJEgnzItYIYFVBAH9B/h65cuKmewyDKsjppvDGFKOts5BfM9LIcftKTq8aGAobjtRaEUX0YckJAgbdEXzbKJzgMOlbAY3RLfYPwX2yrMm86Sa77lWj3neQ77VEni430qYwiAoBRkQRjbjGIOnaB/7Hgi+zufNV9jNMogjAUg65SqIwL3n+5WxiEeAmGmUoMnQKl6O3UFdZNYPrc3SwOUX3IUMmMHyQdxy6BKT3XXRLXsPf9cJxreHvTp4TzaHJcOjmM9Drjbk2swPbadGoOq3aUqadHfIlhtN4qRiL/P8C6quN25LtpLjO81x+EfffaQQnqH6DYZJq+hM7vO1iLTTpdajmvjq5/WbD32viPpIhc4KANdFt2/psMg5YPb/nLelLjHVpFf7w81yviuvVGOWB07VpT3nzEQutNudbT9gWIv0+0P9A+Ek/OTd9Eu1Qh5k1tRz5Go7p086m1qE8wGjjhaoTAk4nwULM6xSbXM8bWy0WbaFlDczwn9zgWr2oLHAaVClRBgyByLDwtBoC1MjgaeMxLhHAkMJUx3218FhqLAJcHwKMTu67jvN1QCTJeb3cTmMAMDQoUwIEtjnVhqxJKqTPWu7DsciMTreBrImDPVXcTqMA3aKcqKbbXkoDB+WjPdemcoFBF3WTAkKk9F9XC4yGj0FOg4jxM9EdyPHITwYI+C3gXgS9BOF3ICbp5yeQBxj1vBi9vCD14uSXJ64+dRp5QaVWmc+CIzWG3gRTG+hF7+WNBiFUtpM0DBjNvJkpAxgyOqjHXScEQGqMFKfZgJHkuc/idkCcmnqdmkVdExh67jVCowWBvSlgTaQw2/ocDjDkuuj2Wrl9fchV8XzbDU1Vy2NT2hxx0GwDxk3gPueWRObTo/zdhSyfFl8H7nMRem9zpcUnsD0opEktZvOswaLawmhRTkQrGBi7uGwdL1JSawzO1wsshVYvWAufcjWQfWofpjFS4tRLCmBdKgSnSWxUIcDozKMxGpgX8ljHcV+FaIwGFohmrisBa5orl/LYZbvmvul90XOaxfnNvP5Ba5IK6RM+gsbQ+9XJf+vEYbHE0HzalGrV40IZ6TWB8UVwL1syYvMWc6gU2CHXwKCHhXfy92IjsvQKuJd492O7O1EIqexOcN89vWQ43id4ZlE4kVa6wfMt8gNDbl6NPvUFMEggetm0qhKmRUrY5lrN1luEwNyUBmEjSyFvEqZKG7fdGgKMQnwMrbm0OdPC2s3mYzRZ/KNZXFeflEkeS9IQ2iYhPFITJXkdmg3wmXMKWxN5INVa+mz5EBpDao2F3HedAI32AVtMYJCmQDlQhxd+N+aEpyKKKCJL3DaiiCKKgBFRRKH0X7+pPFJXFyTeAAAAAElFTkSuQmCC\"","import { useRef, useReducer } from \"react\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  Input,\r\n  DatePicker,\r\n  Row,\r\n  Col,\r\n  Popconfirm,\r\n  Table,\r\n  Card,\r\n} from \"antd\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport reducer from \"./reducer.js\";\r\nimport moment from \"moment\";\r\nimport {\r\n  numberWithCommas,\r\n  getFieldsOnTable,\r\n  qtyFormat,\r\n  priceFormat,\r\n} from \"./util.js\";\r\nimport { Invoice, invoiceStyle} from \"./invoice.js\";\r\n\r\nconst InvoiceForm = () => {\r\n  const validateMessages = {\r\n    required: null,\r\n  };\r\n\r\n  const layout = {\r\n    labelCol: {\r\n      span: 10,\r\n    },\r\n    wrapperCol: {\r\n      span: 22,\r\n    },\r\n  };\r\n\r\n  const fullLayout = {\r\n    labelCol: {\r\n      span: 22,\r\n    },\r\n    wrapperCol: {\r\n      span: 22,\r\n    },\r\n  };\r\n\r\n  const defaultState = {\r\n    data: [\r\n      {\r\n        id: 1,\r\n        count: 1,\r\n        code: \"\",\r\n        name: \"\",\r\n        qty: 1,\r\n        price: 0,\r\n      },\r\n    ],\r\n    buyerInfo: {\r\n      name: \"\",\r\n      number: \"\",\r\n      address: \"\",\r\n      date: moment(new Date()).format(\"DD-MM-YYYY\"),\r\n      due: moment(new Date()).add(30, \"days\").format(\"DD-MM-YYYY\"),\r\n      city: \"\",\r\n      note: \"\",\r\n      discount: 0,\r\n      grandTotal: 0,\r\n    },\r\n    columns: [\"No.\", \"Kode Barang\", \"Nama Barang\", \"Qty\", \"Harga\", \"Total\"],\r\n    pagination: {\r\n      current: 1,\r\n      pageSize: 5,\r\n    },\r\n    isShowModal: false,\r\n  };\r\n\r\n  const [form] = Form.useForm();\r\n  const [state, dispatch] = useReducer(reducer, defaultState);\r\n  const invoiceToPrint = useRef();\r\n\r\n  const handleFinish = useReactToPrint({\r\n    content: () => invoiceToPrint.current,\r\n    pageStyle:\r\n      invoiceStyle,\r\n  });\r\n\r\n  const isButtonDisabled = () => {\r\n    return (\r\n      Math.ceil(state.data.length / state.pagination.pageSize) !==\r\n      state.pagination.current\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ overflow: \"hidden\", height: 0 }}>\r\n        <Invoice ref={invoiceToPrint} state={state} />\r\n      </div>\r\n      <Row justify=\"center\">\r\n        <h2>Info Faktur</h2>\r\n      </Row>\r\n      <Row>\r\n        <Col offset=\"4\" span=\"16\">\r\n          <Card>\r\n            <Form\r\n              {...layout}\r\n              form={form}\r\n              layout=\"vertical\"\r\n              validateMessages={validateMessages}\r\n              onFinish={handleFinish}\r\n              scrollToFirstError\r\n            >\r\n              <Row>\r\n                <Col span=\"11\" offset=\"1\">\r\n                  <Form.Item\r\n                    name=\"name\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"Nama perusahaan tidak boleh kosong\",\r\n                      },\r\n                    ]}\r\n                    label=\"Nama Perusahaan\"\r\n                    initialValue={state.buyerInfo.name}\r\n                  >\r\n                    <Input\r\n                      onBlur={(e) =>\r\n                        dispatch({\r\n                          type: \"UPDATE_FORM_INPUT_VALUE\",\r\n                          payload: {\r\n                            name: \"name\",\r\n                            value: e.target.value,\r\n                          },\r\n                        })\r\n                      }\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span=\"11\">\r\n                  <Form.Item\r\n                    name=\"number\"\r\n                    label=\"Nomor Faktur Jual\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"Nomor faktur jual tidak boleh kosong\",\r\n                      },\r\n                    ]}\r\n                    initialValue={state.buyerInfo.number}\r\n                  >\r\n                    <Input\r\n                      onBlur={(e) =>\r\n                        dispatch({\r\n                          type: \"UPDATE_FORM_INPUT_VALUE\",\r\n                          payload: {\r\n                            name: \"number\",\r\n                            value: e.target.value,\r\n                          },\r\n                        })\r\n                      }\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col span=\"23\" offset=\"1\">\r\n                  <Form.Item\r\n                    name=\"address\"\r\n                    label=\"Alamat Perusahaan\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"Alamat perusahaan tidak boleh kosong\",\r\n                      },\r\n                    ]}\r\n                    initialValue={state.buyerInfo.address}\r\n                    {...fullLayout}\r\n                  >\r\n                    <Input\r\n                      maxLength={80}\r\n                      onBlur={(e) =>\r\n                        dispatch({\r\n                          type: \"UPDATE_FORM_INPUT_VALUE\",\r\n                          payload: {\r\n                            name: \"address\",\r\n                            value: e.target.value,\r\n                          },\r\n                        })\r\n                      }\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col span=\"7\" offset=\"1\">\r\n                  <Form.Item\r\n                    name=\"date\"\r\n                    label=\"Tanggal\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"Tanggal tidak boleh kosong\",\r\n                      },\r\n                    ]}\r\n                    initialValue={moment(state.buyerInfo.date, \"DD-MM-YYYY\")}\r\n                  >\r\n                    <DatePicker\r\n                      format=\"DD-MM-YYYY\"\r\n                      onBlur={(e) =>\r\n                        dispatch({\r\n                          type: \"UPDATE_FORM_INPUT_VALUE\",\r\n                          payload: {\r\n                            name: \"date\",\r\n                            value: e.target.value,\r\n                          },\r\n                        })\r\n                      }\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span=\"7\">\r\n                  <Form.Item\r\n                    name=\"due\"\r\n                    label=\"Jatuh Tempo\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"Jatuh tempo tidak boleh kosong\",\r\n                      },\r\n                    ]}\r\n                    initialValue={moment(state.buyerInfo.due, \"DD-MM-YYYY\")}\r\n                  >\r\n                    <DatePicker\r\n                      format=\"DD-MM-YYYY\"\r\n                      onBlur={(e) =>\r\n                        dispatch({\r\n                          type: \"UPDATE_FORM_INPUT_VALUE\",\r\n                          payload: {\r\n                            name: \"due\",\r\n                            value: e.target.value,\r\n                          },\r\n                        })\r\n                      }\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span=\"9\">\r\n                  <Form.Item\r\n                    name=\"city\"\r\n                    label=\"Kota\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"Kota tidak boleh kosong\",\r\n                      },\r\n                    ]}\r\n                    initialValue={state.buyerInfo.city}\r\n                    wrapperCol={{ span: \"19\" }}\r\n                  >\r\n                    <Input\r\n                      onBlur={(e) =>\r\n                        dispatch({\r\n                          type: \"UPDATE_FORM_INPUT_VALUE\",\r\n                          payload: {\r\n                            name: \"city\",\r\n                            value: e.target.value,\r\n                          },\r\n                        })\r\n                      }\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col span=\"23\" offset=\"1\">\r\n                  <Form.Item\r\n                    label=\"Keterangan\"\r\n                    {...fullLayout}\r\n                    name=\"note\"\r\n                    initialValue={state.buyerInfo.note}\r\n                  >\r\n                    <Input.TextArea\r\n                      onBlur={(e) =>\r\n                        dispatch({\r\n                          type: \"UPDATE_FORM_INPUT_VALUE\",\r\n                          payload: {\r\n                            name: \"note\",\r\n                            value: e.target.value,\r\n                          },\r\n                        })\r\n                      }\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <ItemsTable\r\n                dispatch={dispatch}\r\n                state={state}\r\n                form={form}\r\n                isButtonDisabled={isButtonDisabled()}\r\n              />\r\n            </Form>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nconst EditableCell = ({\r\n  editable,\r\n  record,\r\n  children,\r\n  dataIndex,\r\n  rowIndex,\r\n  title,\r\n  state,\r\n  dispatch,\r\n  ...restProps\r\n}) => {\r\n  let childNode = children;\r\n\r\n  if (editable) {\r\n    let page = { ...state.pagination };\r\n    let index = rowIndex + (page.current - 1) * page.pageSize;\r\n\r\n    if (dataIndex === \"qty\" || dataIndex === \"price\") {\r\n      childNode = (\r\n        <Form.Item\r\n          name={`${dataIndex}${index}`}\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: `${title} tidak boleh kosong`,\r\n            },\r\n          ]}\r\n          initialValue={state.data[index][dataIndex]}\r\n          preserve={false}\r\n          style={{ marginBottom: 0 }}\r\n        >\r\n          <NumberFormat\r\n            {...(dataIndex === \"price\"\r\n              ? {\r\n                  format: numberWithCommas,\r\n                  isAllowed: priceFormat,\r\n                  allowNegative: true,\r\n                }\r\n              : {\r\n                  isAllowed: qtyFormat,\r\n                  allowNegative: false,\r\n                })}\r\n            value={state.data[index][dataIndex]}\r\n            displayType=\"input\"\r\n            customInput={Input}\r\n            style={{ width: \"100%\", textAlign: \"end\" }}\r\n            onValueChange={(values) => {\r\n              const { value } = values;\r\n              dispatch({\r\n                type: \"UPDATE_TABLE_INPUT_VALUE\",\r\n                payload: {\r\n                  val: parseInt(value),\r\n                  index: index,\r\n                  column: dataIndex,\r\n                },\r\n              });\r\n            }}\r\n          />\r\n        </Form.Item>\r\n      );\r\n    } else {\r\n      childNode = (\r\n        <Form.Item\r\n          name={`${dataIndex}${index}`}\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: `${title} tidak boleh kosong`,\r\n            },\r\n          ]}\r\n          initialValue={state.data[index][dataIndex]}\r\n          preserve={false}\r\n          style={{ marginBottom: 0 }}\r\n        >\r\n          <Input\r\n            onBlur={(e) =>\r\n              dispatch({\r\n                type: \"UPDATE_TABLE_INPUT_VALUE\",\r\n                payload: {\r\n                  val: e.target.value,\r\n                  index: index,\r\n                  column: dataIndex,\r\n                },\r\n              })\r\n            }\r\n          />\r\n        </Form.Item>\r\n      );\r\n    }\r\n  }\r\n\r\n  return <td {...restProps}>{childNode}</td>;\r\n};\r\n\r\nconst ItemsTable = (props) => {\r\n  const components = {\r\n    body: {\r\n      cell: EditableCell,\r\n    },\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: props.state.columns[0],\r\n      dataIndex: \"id\",\r\n      width: \"5%\",\r\n    },\r\n    {\r\n      title: props.state.columns[1],\r\n      dataIndex: \"code\",\r\n      editable: true,\r\n      width: \"15%\",\r\n    },\r\n    {\r\n      title: props.state.columns[2],\r\n      dataIndex: \"name\",\r\n      editable: true,\r\n      width: \"25%\",\r\n    },\r\n    {\r\n      title: props.state.columns[3],\r\n      dataIndex: \"qty\",\r\n      editable: true,\r\n      width: \"10%\",\r\n      align: \"right\",\r\n    },\r\n    {\r\n      title: props.state.columns[4],\r\n      dataIndex: \"price\",\r\n      editable: true,\r\n      width: \"15%\",\r\n      align: \"right\",\r\n    },\r\n    {\r\n      title: props.state.columns[5],\r\n      dataIndex: \"total\",\r\n      align: \"right\",\r\n      render: (text, _, index) => {\r\n        let idx =\r\n          index +\r\n          (props.state.pagination.current - 1) *\r\n            props.state.pagination.pageSize;\r\n        return (\r\n          <NumberFormat\r\n            format={numberWithCommas}\r\n            displayType=\"text\"\r\n            value={props.state.data[idx].qty * props.state.data[idx].price}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"Hapus\",\r\n      dataIndex: \"remove\",\r\n      render: (_, record) =>\r\n        props.state.data.length > 1 ? (\r\n          <Button type=\"default\" danger onClick={() => removeItem(record.id)}>\r\n            Hapus\r\n          </Button>\r\n        ) : null,\r\n    },\r\n  ];\r\n\r\n  const tableColumns = columns.map((col) => {\r\n    if (!col.editable) {\r\n      return col;\r\n    }\r\n\r\n    return {\r\n      ...col,\r\n      onCell: (record, rowIndex) => ({\r\n        record,\r\n        rowIndex,\r\n        editable: col.editable,\r\n        dataIndex: col.dataIndex,\r\n        title: col.title,\r\n        state: props.state,\r\n        dispatch: props.dispatch,\r\n      }),\r\n    };\r\n  });\r\n\r\n  const addItem = () => {\r\n    const toBeReset = getFieldsOnTable(props.form.getFieldsValue());\r\n\r\n    const newRow = {\r\n      id: props.state.data.length + 1,\r\n      count: props.state.data[props.state.data.length - 1].count + 1,\r\n      code: \"\",\r\n      name: \"\",\r\n      qty: 1,\r\n      price: 0,\r\n    };\r\n\r\n    // validate before adding new item creates a new page\r\n    if (props.state.data.length % props.state.pagination.pageSize === 0) {\r\n      props.form\r\n        .validateFields(toBeReset)\r\n        .then((values) => {\r\n          props.dispatch({ type: \"ADD_ITEM\", payload: newRow });\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"form values are missing\");\r\n        });\r\n    } else {\r\n      props.dispatch({ type: \"ADD_ITEM\", payload: newRow });\r\n    }\r\n  };\r\n\r\n  const removeItem = (id) => {\r\n    props.dispatch({ type: \"REMOVE_ITEM\", payload: id });\r\n  };\r\n\r\n  const removeAll = () => {\r\n    props.dispatch({ type: \"REMOVE_ALL\", payload: props.form });\r\n  };\r\n\r\n  const changePage = (page) => {\r\n    const toBeReset = getFieldsOnTable(props.form.getFieldsValue());\r\n\r\n    props.form\r\n      .validateFields(toBeReset)\r\n      .then((values) => {\r\n        props.dispatch({ type: \"CHANGE_PAGE\", payload: page.current });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"error\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col span=\"23\">\r\n          <Table\r\n            components={components}\r\n            dataSource={props.state.data}\r\n            columns={tableColumns}\r\n            pagination={props.state.pagination}\r\n            onChange={(pagination) => changePage(pagination)}\r\n            rowKey=\"count\"\r\n            footer={() => {\r\n              return (\r\n                <div style={{ fontWeight: \"bold\" }}>\r\n                  <Row justify=\"end\">\r\n                    <Col pull=\"1\">Subtotal</Col>\r\n                    <Col span=\"3\" style={{ textAlign: \"end\" }}>\r\n                      <NumberFormat\r\n                        displayType=\"text\"\r\n                        format={numberWithCommas}\r\n                        value={\r\n                          props.state.buyerInfo.grandTotal +\r\n                          props.state.buyerInfo.discount\r\n                        }\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n                  <Row justify=\"end\">\r\n                    <Col pull=\"1\">Discount</Col>\r\n                    <Col span=\"3\">\r\n                      <NumberFormat\r\n                        customInput={Input}\r\n                        displayType=\"input\"\r\n                        format={numberWithCommas}\r\n                        allowNegative={false}\r\n                        isAllowed={priceFormat}\r\n                        value={props.state.buyerInfo.discount}\r\n                        style={{ textAlign: \"end\" }}\r\n                        onValueChange={(values) => {\r\n                          const { value } = values;\r\n                          props.dispatch({\r\n                            type: \"UPDATE_FORM_INPUT_VALUE\",\r\n                            payload: {\r\n                              name: \"discount\",\r\n                              value: parseInt(value),\r\n                            },\r\n                          });\r\n                        }}\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n                  <Row justify=\"end\">\r\n                    <Col pull=\"1\">Grand Total</Col>\r\n                    <Col span=\"3\" style={{ textAlign: \"end\" }}>\r\n                      <NumberFormat\r\n                        displayType=\"text\"\r\n                        format={numberWithCommas}\r\n                        value={props.state.buyerInfo.grandTotal}\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              );\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"start\">\r\n        <Col>\r\n          <Button\r\n            type=\"default\"\r\n            size=\"large\"\r\n            htmlType=\"button\"\r\n            hidden={props.isButtonDisabled}\r\n            onClick={addItem}\r\n          >\r\n            Tambah Barang Baru\r\n          </Button>\r\n        </Col>\r\n        <Col>\r\n          <Col offset=\"3\">\r\n            <Popconfirm\r\n              title=\"Yakin ingin hapus semua barang?\"\r\n              onConfirm={removeAll}\r\n              okText=\"Yes\"\r\n              cancelText=\"No\"\r\n            >\r\n              <Button type=\"default\" size=\"large\" htmlType=\"button\" danger>\r\n                Hapus Semua Barang\r\n              </Button>\r\n            </Popconfirm>\r\n          </Col>\r\n        </Col>\r\n        <Col offset=\"12\">\r\n          <Form.Item style={{ marginBottom: 0 }}>\r\n            <Button\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              htmlType=\"submit\"\r\n              hidden={props.isButtonDisabled}\r\n            >\r\n              Generate\r\n            </Button>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InvoiceForm;\r\n","import \"./App.css\";\r\nimport InvoiceForm from \"./form.js\";\r\n\r\nconst App = () => {\r\n  return <InvoiceForm />;\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}